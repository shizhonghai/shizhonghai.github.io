<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æˆ‘æ˜¯ç˜¦å­</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://shizhonghai.github.io/"/>
  <updated>2020-10-27T03:41:39.814Z</updated>
  <id>https://shizhonghai.github.io/</id>
  
  <author>
    <name>I am a thin man</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JavaScript é’ˆå¯¹ç‰¹æ®Šç¬¦å·æˆ–emojiè¡¨æƒ…çš„æ­£åˆ™åˆ¤æ–­</title>
    <link href="https://shizhonghai.github.io/2020/10/21/javascript-regexp-emoji/"/>
    <id>https://shizhonghai.github.io/2020/10/21/javascript-regexp-emoji/</id>
    <published>2020-10-20T16:00:00.000Z</published>
    <updated>2020-10-27T03:41:39.814Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€äº›å¸¸ç”¨çš„æ­£åˆ™åˆ°åšå®¢ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦å«æœ‰ç‰¹æ®Šç¬¦å·</span></span><br><span class="line"><span class="keyword">let</span> iconRule1 = <span class="regexp">/[`~!@#$%^&amp;*()_\-+=&lt;&gt;?:"&#123;&#125;|,.\/;'\\[\]Â·~ï¼@#ï¿¥%â€¦â€¦&amp;*ï¼ˆï¼‰â€”â€”\-+=&#123;&#125;|ã€Šã€‹ï¼Ÿï¼šâ€œâ€ã€ã€‘ã€ï¼›â€˜â€™ï¼Œã€‚ã€]/im</span></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦å«æœ‰emojiè¡¨æƒ…</span></span><br><span class="line"><span class="keyword">let</span> iconRule2 = <span class="regexp">/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/ig</span></span><br><span class="line"><span class="comment">// å¦‚æœä¸ºtrueï¼Œå­—ç¬¦ä¸²å«æœ‰emojiè¡¨æƒ… ï¼Œfalseä¸å«</span></span><br><span class="line"><span class="built_in">console</span>.log(iconRule2.test(<span class="string">'ğŸ˜º'</span>));   <span class="comment">// true </span></span><br><span class="line"><span class="comment">// å¦‚æœä¸ºtrueï¼Œå­—ç¬¦ä¸²å«æœ‰ç‰¹æ®Šç¬¦å· ï¼Œfalseä¸å«</span></span><br><span class="line"><span class="built_in">console</span>.log(iconRule1.test(<span class="string">'ã€ã€‘'</span>))   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€äº›å¸¸ç”¨çš„æ­£åˆ™åˆ°åšå®¢ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;li
    
    </summary>
    
    
      <category term="RegExp" scheme="https://shizhonghai.github.io/tags/RegExp/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ç›¸å…³ç®—æ³•</title>
    <link href="https://shizhonghai.github.io/2020/09/30/javascript-algorithm/"/>
    <id>https://shizhonghai.github.io/2020/09/30/javascript-algorithm/</id>
    <published>2020-09-29T16:00:00.000Z</published>
    <updated>2020-10-27T03:44:18.094Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h1><blockquote>
<p>å†’æ³¡æ’åºçš„æ€è·¯ï¼šéå†æ•°ç»„ï¼Œç„¶åå°†æœ€å¤§æ•°æ²‰åˆ°æœ€åº•éƒ¨ï¼›<br>  æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼›<br>  ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p>
</blockquote>
<p>ä½œä¸ºæœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå†’æ³¡æ’åºçš„æ€æƒ³æ˜¯ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªå­˜å‚¨æ•°æ®çš„å¤§å°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ•°å¤§äºç¬¬äºŒä¸ªæ•°ï¼Œå°±äº¤æ¢ä¸¤ä¸ªæ•°æ®ï¼Œè¿™æ ·ä¸€è½®æ¯”è¾ƒä¹‹åï¼Œæœ€å¤§çš„æ•°ä¼šæ”¾åœ¨åé¢ï¼Œè¿™æ ·ï¼Œæ¯æ¬¡å¾ªç¯æ¯”è¾ƒï¼Œæœ¬è½®ä¸­çš„æœ€å¤§å€¼éƒ½ä¼šæ’åˆ°æœ€åï¼Œç›´åˆ°å¾ªç¯ç»“æŸï¼Œå®ç°æ•°ç»„å‡åºã€‚<br>åŠ¨å›¾æ¼”ç¤ºå¦‚ä¸‹ï¼š<br><img src="/images/bubble-sort.gif" alt="å†’æ³¡æ’åºåŠ¨ç”»æ¼”ç¤º" title="å†’æ³¡æ’åºåŠ¨ç”»æ¼”ç¤º"></p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  å†’æ³¡æ’åº</span></span><br><span class="line"><span class="comment"> *  1ã€æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå‰ä¸€ä¸ªæ¯”åä¸€ä¸ªå¤§ï¼Œåˆ™äº¤æ¢ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment"> *  2ã€æ¯”è¾ƒå®Œç¬¬ä¸€è½®çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æœ€å¤§çš„å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment"> *  3ã€è¿™æ—¶å€™æœ€åä¸€ä¸ªå…ƒç´ æ˜¯æœ€å¤§çš„ï¼Œæ‰€ä»¥æœ€åä¸€ä¸ªå…ƒç´ å°±ä¸éœ€è¦å‚ä¸æ¯”è¾ƒå¤§å°ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr === <span class="literal">null</span> || arr.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> len = arr.length;</span><br><span class="line">    <span class="comment">// æ¯”è¾ƒè½®æ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// æ¯è½®æ¯”è¾ƒæ¬¡æ•°ï¼Œæ¬¡æ•°=é•¿åº¦-1-æ­¤æ—¶çš„è½®æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">let</span> temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å†’æ³¡æ’åºï¼š'</span>, BubbleSort([<span class="number">10</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">200</span>, <span class="number">100</span>]));   <span class="comment">// [7, 9, 10, 100, 200]</span></span><br></pre></td></tr></table></figure></p>
<h1 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h1><blockquote>
<p>é€‰æ‹©æ’åºçš„å®ç°æ€è·¯ï¼šéå†æ•°ç»„ï¼ŒæŠŠæœ€å°æ•°æ”¾åœ¨å¤´éƒ¨ï¼›<br>  æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼›<br>  ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p>
</blockquote>
<p>é€‰æ‹©æ’åºï¼Œéå†æ•°ç»„ï¼ŒæŠŠæœ€å°æ•°æ”¾åœ¨å¤´éƒ¨ã€‚é¦–å…ˆä»åŸå§‹æ•°ç»„ä¸­æ‰¾åˆ°æœ€å°çš„å…ƒç´ ï¼Œå¹¶æŠŠè¯¥å…ƒç´ æ”¾åœ¨æ•°ç»„çš„æœ€å‰é¢ï¼Œç„¶åå†ä»å‰©ä¸‹çš„å…ƒç´ ä¸­å¯»æ‰¾æœ€å°çš„å…ƒç´ ï¼Œæ”¾åœ¨ä¹‹å‰æœ€å°å…ƒç´ çš„åé¢ï¼Œç›´åˆ°æ’åºå®Œæ¯•ã€‚<br>åŠ¨å›¾æ¼”ç¤ºå¦‚ä¸‹ï¼š<br><img src="/images/selection-sort.gif" alt="é€‰æ‹©æ’åºåŠ¨ç”»æ¼”ç¤º" title="é€‰æ‹©æ’åºåŠ¨ç”»æ¼”ç¤º"><br>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  é€‰æ‹©æ’åº</span></span><br><span class="line"><span class="comment"> *  åŸç†ï¼šéå†æ•°ç»„ï¼ŒæŠŠæœ€å°æ•°æ”¾åœ¨å¤´éƒ¨</span></span><br><span class="line"><span class="comment"> *  1ã€é¦–å…ˆä»åŸå§‹æ•°ç»„ä¸­æ‰¾åˆ°æœ€å°çš„å…ƒç´ ï¼Œå¹¶æŠŠè¯¥å…ƒç´ æ”¾åœ¨æ•°ç»„çš„æœ€å‰é¢</span></span><br><span class="line"><span class="comment"> *  2ã€ç„¶åå†ä»å‰©ä¸‹çš„å…ƒç´ ä¸­å¯»æ‰¾æœ€å°çš„å…ƒç´ ï¼Œæ”¾åœ¨ä¹‹å‰æœ€å°å…ƒç´ çš„åé¢ï¼Œç›´åˆ°æ’åºå®Œæ¯•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SelectionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr === <span class="literal">null</span> || arr.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> len = arr.length, minIndex;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        minIndex = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            minIndex = arr[j] &lt; arr[minIndex] ? j : minIndex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> temp = arr[i];</span><br><span class="line">        arr[i] = arr[minIndex];</span><br><span class="line">        arr[minIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'é€‰æ‹©æ’åºï¼š'</span>, SelectionSort([<span class="number">10</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">200</span>, <span class="number">100</span>]));      <span class="comment">// [7, 9, 10, 100, 200]</span></span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å†’æ³¡æ’åº&quot;&gt;&lt;a href=&quot;#å†’æ³¡æ’åº&quot; class=&quot;headerlink&quot; title=&quot;å†’æ³¡æ’åº&quot;&gt;&lt;/a&gt;å†’æ³¡æ’åº&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;å†’æ³¡æ’åºçš„æ€è·¯ï¼šéå†æ•°ç»„ï¼Œç„¶åå°†æœ€å¤§æ•°æ²‰åˆ°æœ€åº•éƒ¨ï¼›&lt;br&gt;  æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼›&lt;br&gt;  ç©ºé—´å¤æ‚åº¦ï¼šO(1)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½œä¸ºæœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå†’æ³¡æ’åºçš„æ€æƒ³æ˜¯ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªå­˜å‚¨æ•°æ®çš„å¤§å°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ•°å¤§äºç¬¬äºŒä¸ªæ•°ï¼Œå°±äº¤æ¢ä¸¤ä¸ªæ•°æ®ï¼Œè¿™æ ·ä¸€è½®æ¯”è¾ƒä¹‹åï¼Œæœ€å¤§çš„æ•°ä¼šæ”¾åœ¨åé¢ï¼Œè¿™æ ·ï¼Œæ¯æ¬¡å¾ªç¯æ¯”è¾ƒï¼Œæœ¬è½®ä¸­çš„æœ€å¤§å€¼éƒ½ä¼šæ’åˆ°æœ€åï¼Œç›´åˆ°å¾ªç¯ç»“æŸï¼Œå®ç°æ•°ç»„å‡åºã€‚&lt;br&gt;åŠ¨å›¾æ¼”ç¤ºå¦‚ä¸‹ï¼š&lt;br&gt;&lt;img src=&quot;/images/bubble-sort.gif&quot; alt=&quot;å†’æ³¡æ’åºåŠ¨ç”»æ¼”ç¤º&quot; title=&quot;å†’æ³¡æ’åºåŠ¨ç”»æ¼”ç¤º&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="https://shizhonghai.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä¸­æ–‡é¦–å­—æ¯æ’åº</title>
    <link href="https://shizhonghai.github.io/2020/09/25/javascript-sort/"/>
    <id>https://shizhonghai.github.io/2020/09/25/javascript-sort/</id>
    <published>2020-09-24T16:00:00.000Z</published>
    <updated>2020-09-25T07:27:20.433Z</updated>
    
    <content type="html"><![CDATA[<h1 id="String"><a href="#String" class="headerlink" title="String"></a>String</h1><h2 id="String-prototype-localeCompare"><a href="#String-prototype-localeCompare" class="headerlink" title="String.prototype.localeCompare()"></a><code>String.prototype.localeCompare()</code></h2><p>å¼•è‡ªMDNï¼š<code>localeCompare()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°å­—æ¥æŒ‡ç¤ºä¸€ä¸ªå‚è€ƒå­—ç¬¦ä¸²æ˜¯å¦åœ¨æ’åºé¡ºåºå‰é¢æˆ–ä¹‹åæˆ–ä¸ç»™å®šå­—ç¬¦ä¸²ç›¸åŒã€‚</p>
<p>è¯­æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// referenceStr:å¼•ç”¨å­—ç¬¦ä¸²    compareString:æ¯”è¾ƒå­—ç¬¦ä¸²</span></span><br><span class="line">referenceStr.localeCompare(compareString[, locales[, options]])</span><br></pre></td></tr></table></figure></p>
<p>æè¿°<br>è¿”å›ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ˜¯å¦ <b>å¼•ç”¨å­—ç¬¦ä¸²</b> åœ¨æ’åºä¸­ä½äº <b>æ¯”è¾ƒå­—ç¬¦ä¸²</b> çš„å‰é¢ï¼Œåé¢ï¼Œæˆ–è€…äºŒè€…ç›¸åŒã€‚</p>
<ul>
<li>å½“ <b>å¼•ç”¨å­—ç¬¦ä¸²</b> åœ¨ <b>æ¯”è¾ƒå­—ç¬¦ä¸²</b> å‰é¢æ—¶è¿”å› -1</li>
<li>å½“ <b>å¼•ç”¨å­—ç¬¦ä¸²</b> åœ¨ <b>æ¯”è¾ƒå­—ç¬¦ä¸²</b> åé¢æ—¶è¿”å› 1</li>
<li>ç›¸åŒä½ç½®æ—¶è¿”å› 0</li>
</ul>
<p><b>åˆ‡å‹¿ä¾èµ–äº -1 æˆ– 1 è¿™æ ·ç‰¹å®šçš„è¿”å›å€¼ã€‚</b>ä¸åŒæµè§ˆå™¨ä¹‹é—´ï¼ˆä»¥åŠä¸åŒæµè§ˆå™¨ç‰ˆæœ¬ä¹‹é—´ï¼‰ è¿”å›çš„æ­£è´Ÿæ•°çš„å€¼å„æœ‰ä¸åŒï¼Œå› ä¸ºW3Cè§„èŒƒä¸­åªè¦æ±‚è¿”å›å€¼æ˜¯æ­£å€¼å’Œè´Ÿå€¼ï¼Œè€Œæ²¡æœ‰è§„å®šå…·ä½“çš„å€¼ã€‚ä¸€äº›æµè§ˆå™¨å¯èƒ½è¿”å›-2æˆ–2æˆ–å…¶ä»–ä¸€äº›è´Ÿçš„ã€æ­£çš„å€¼ã€‚</p>
<p>ç¤ºä¾‹<br>ä½¿ç”¨ <code>sort()</code>ã€<code>localeCompare()</code> è¿›è¡Œä¸­æ–‡æ•°ç»„é¦–å­—æ¯çš„æ’åº<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.localeCompare(b);</span><br><span class="line">&#125;</span><br><span class="line">resultArr = [ <span class="string">'å­¦ä¹ '</span> , <span class="string">'é’¢æ'</span> , <span class="string">'è›‹æ±¤'</span> , <span class="string">'æˆ¿ä¼'</span>, <span class="string">'å®‰å“'</span>,<span class="string">'åŒ—äº¬'</span>, <span class="string">'è—å®'</span> ] ;</span><br><span class="line">resultArr.sort(compare);    <span class="comment">// ["å®‰å“", "åŒ—äº¬", "è—å®", "è›‹æ±¤", "æˆ¿ä¼", "é’¢æ", "å­¦ä¹ "]</span></span><br></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;String&quot;&gt;&lt;a href=&quot;#String&quot; class=&quot;headerlink&quot; title=&quot;String&quot;&gt;&lt;/a&gt;String&lt;/h1&gt;&lt;h2 id=&quot;String-prototype-localeCompare&quot;&gt;&lt;a href=&quot;#String-
    
    </summary>
    
    
      <category term="sort" scheme="https://shizhonghai.github.io/tags/sort/"/>
    
  </entry>
  
  <entry>
    <title>Web Api ç›¸å…³æ¥å£</title>
    <link href="https://shizhonghai.github.io/2020/09/24/javascript-html-element/"/>
    <id>https://shizhonghai.github.io/2020/09/24/javascript-html-element/</id>
    <published>2020-09-23T16:00:00.000Z</published>
    <updated>2020-09-24T07:06:48.989Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTMLElement"><a href="#HTMLElement" class="headerlink" title="HTMLElement"></a>HTMLElement</h1><h2 id="HTMLElement-offsetWidth"><a href="#HTMLElement-offsetWidth" class="headerlink" title="HTMLElement.offsetWidth"></a><code>HTMLElement.offsetWidth</code></h2><p>å¼•è‡ªMDNï¼šæ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ çš„å¸ƒå±€å®½åº¦ã€‚ä¸€ä¸ªå…¸å‹çš„ï¼ˆè¯‘è€…æ³¨ï¼šå„æµè§ˆå™¨çš„offsetWidthå¯èƒ½æœ‰æ‰€ä¸åŒï¼‰offsetWidthæ˜¯æµ‹é‡åŒ…å«å…ƒç´ çš„è¾¹æ¡†(border)ã€æ°´å¹³çº¿ä¸Šçš„å†…è¾¹è·(padding)ã€ç«–ç›´æ–¹å‘æ»šåŠ¨æ¡(scrollbar)ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€ä»¥åŠCSSè®¾ç½®çš„å®½åº¦(width)çš„å€¼ã€‚</p>
<p>è¯­æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å…ƒç´ å®½åº¦ã€å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œä¸åŒ…æ‹¬å¤–è¾¹è·ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> offsetWidth = element.offsetWidth;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>è¿™ä¸ªå±æ€§å°†ä¼š round(å››èˆäº”å…¥)ä¸ºä¸€ä¸ªæ•´æ•°ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªfractional(å°æ•°)å€¼,è¯·ä½¿ç”¨ <code>element.getBoundingClientRect()</code></p>
</blockquote>
<a id="more"></a>
<hr>
<h2 id="HTMLElement-offsetHeight"><a href="#HTMLElement-offsetHeight" class="headerlink" title="HTMLElement.offsetHeight"></a><code>HTMLElement.offsetHeight</code></h2><p>å¼•è‡ªMDNï¼šæ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå®ƒè¿”å›è¯¥å…ƒç´ çš„åƒç´ é«˜åº¦ï¼Œé«˜åº¦åŒ…å«è¯¥å…ƒç´ çš„å‚ç›´å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œä¸”æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p>
<p>è¯­æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å…ƒç´ é«˜åº¦ã€å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œä¸åŒ…æ‹¬å¤–è¾¹è·ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> offsetWidth = element.offsetHeight;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>è¿™ä¸ªå±æ€§å€¼ä¼šè¢«å››èˆäº”å…¥ä¸ºæ•´æ•°å€¼ï¼Œå¦‚æœä½ éœ€è¦ä¸€ä¸ªæµ®ç‚¹æ•°å€¼ï¼Œè¯·ç”¨ <code>element.getBoundingClientRect()</code></p>
</blockquote>
<hr>
<h2 id="HTMLElement-clientWidth"><a href="#HTMLElement-clientWidth" class="headerlink" title="HTMLElement.clientWidth"></a><code>HTMLElement.clientWidth</code></h2><p>å¼•è‡ªMDNï¼šå†…è”å…ƒç´ ä»¥åŠæ²¡æœ‰ CSS æ ·å¼çš„å…ƒç´ çš„ clientWidth å±æ€§å€¼ä¸º 0ã€‚Element.clientWidth å±æ€§è¡¨ç¤ºå…ƒç´ çš„å†…éƒ¨å®½åº¦ï¼Œä»¥åƒç´ è®¡ã€‚è¯¥å±æ€§åŒ…æ‹¬å†…è¾¹è· paddingï¼Œä½†ä¸åŒ…æ‹¬è¾¹æ¡† borderã€å¤–è¾¹è· margin å’Œå‚ç›´æ»šåŠ¨æ¡ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚</p>
<p>è¯­æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å…ƒç´ å®½åº¦ã€å†…è¾¹è·ï¼Œä¸åŒ…æ‹¬è¾¹æ¡†å’Œå¤–è¾¹è·ï¼‰å’Œå‚ç›´æ»šåŠ¨æ¡ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> intElemClientWidth = element.clientWidth;</span><br></pre></td></tr></table></figure></p>
<p>ç¤ºä¾‹<br><img src="/images/Dimensions-client.png" alt="Dimensions-client" title="Dimensions-client"></p>
<hr>
<h2 id="HTMLElement-clientHeight"><a href="#HTMLElement-clientHeight" class="headerlink" title="HTMLElement.clientHeight"></a><code>HTMLElement.clientHeight</code></h2><p>å¼•è‡ªMDNï¼šè¿™ä¸ªå±æ€§æ˜¯åªè¯»å±æ€§ï¼Œå¯¹äºæ²¡æœ‰å®šä¹‰CSSæˆ–è€…å†…è”å¸ƒå±€ç›’å­çš„å…ƒç´ ä¸º0ï¼Œå¦åˆ™ï¼Œå®ƒæ˜¯å…ƒç´ å†…éƒ¨çš„é«˜åº¦(å•ä½åƒç´ )ï¼ŒåŒ…å«å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬æ°´å¹³æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚<br>clientHeight å¯ä»¥é€šè¿‡ CSS height + CSS padding - æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ (å¦‚æœå­˜åœ¨)æ¥è®¡ç®—.</p>
<p>è¯­æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å…ƒç´ é«˜åº¦ã€å†…è¾¹è·ï¼Œä¸åŒ…æ‹¬æ°´å¹³æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> h = element.clientHeight;</span><br></pre></td></tr></table></figure></p>
<p>ç¤ºä¾‹<br><img src="/images/Dimensions-client.png" alt="Dimensions-client" title="Dimensions-client"></p>
<hr>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;HTMLElement&quot;&gt;&lt;a href=&quot;#HTMLElement&quot; class=&quot;headerlink&quot; title=&quot;HTMLElement&quot;&gt;&lt;/a&gt;HTMLElement&lt;/h1&gt;&lt;h2 id=&quot;HTMLElement-offsetWidth&quot;&gt;&lt;a href=&quot;#HTMLElement-offsetWidth&quot; class=&quot;headerlink&quot; title=&quot;HTMLElement.offsetWidth&quot;&gt;&lt;/a&gt;&lt;code&gt;HTMLElement.offsetWidth&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;å¼•è‡ªMDNï¼šæ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ çš„å¸ƒå±€å®½åº¦ã€‚ä¸€ä¸ªå…¸å‹çš„ï¼ˆè¯‘è€…æ³¨ï¼šå„æµè§ˆå™¨çš„offsetWidthå¯èƒ½æœ‰æ‰€ä¸åŒï¼‰offsetWidthæ˜¯æµ‹é‡åŒ…å«å…ƒç´ çš„è¾¹æ¡†(border)ã€æ°´å¹³çº¿ä¸Šçš„å†…è¾¹è·(padding)ã€ç«–ç›´æ–¹å‘æ»šåŠ¨æ¡(scrollbar)ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€ä»¥åŠCSSè®¾ç½®çš„å®½åº¦(width)çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è¯­æ³•&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å…ƒç´ å®½åº¦ã€å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œä¸åŒ…æ‹¬å¤–è¾¹è·ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; offsetWidth = element.offsetWidth;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªå±æ€§å°†ä¼š round(å››èˆäº”å…¥)ä¸ºä¸€ä¸ªæ•´æ•°ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªfractional(å°æ•°)å€¼,è¯·ä½¿ç”¨ &lt;code&gt;element.getBoundingClientRect()&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="HTMLElement" scheme="https://shizhonghai.github.io/tags/HTMLElement/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä¸­ new ä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆ</title>
    <link href="https://shizhonghai.github.io/2020/09/16/javascript-new-object-happen/"/>
    <id>https://shizhonghai.github.io/2020/09/16/javascript-new-object-happen/</id>
    <published>2020-09-15T16:00:00.000Z</published>
    <updated>2020-09-16T10:04:30.735Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„æ„é€ å‡½æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rocker</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;;</span><br><span class="line">Rocker.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ˜¯æœ€ç®€å•ä¸è¿‡çš„æ„é€ å‡½æ•°äº†ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦ç”Ÿæˆä»–çš„ä¸€ä¸ªå®ä¾‹ï¼Œåªéœ€è¦ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someOne = <span class="keyword">new</span> Rocker(<span class="string">'Max'</span>)</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·å°±å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯ï¼Œå®ä¾‹åŒ–çš„è¿‡ç¨‹æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p>
<p>å¯èƒ½å¾ˆå¤šæœ‹å‹åœ¨ç½‘ä¸Šä¹Ÿçœ‹äº†å¾ˆå¤šæ–‡ç« ï¼Œnewçš„è¿‡ç¨‹ä¸å°±æ˜¯ä¸‰æ­¥å—ï¼Ÿ</p>
<ol>
<li>å¼€è¾Ÿä¸€ä¸ªå—å†…å­˜ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œå¯¹è¿™ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ„é€ </li>
<li>ç»™è¿™ä¸ªç©ºå¯¹è±¡æ·»åŠ protoå±æ€§</li>
</ol>
<p>Or </p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li>
<li>æŠŠè¯¥å¯¹è±¡å…³è”åˆ°åŸå§‹å¯¹è±¡æˆ–è€…æ˜¯æ„é€ å‡½æ•°</li>
<li>æŠŠæ–°åˆ›å»ºçš„ç©ºå¯¹è±¡ä½œä¸ºåŸå§‹å¯¹è±¡æˆ–è€…æ„é€ å‡½æ•°çš„ä¸Šä¸‹æ–‡</li>
<li>å¦‚æœåŸå§‹å¯¹è±¡æˆ–è€…æ„é€ å‡½æ•°æœ‰è¿”å›å€¼ä¸”ä¸ºå¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼Œå¦åˆ™è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡</li>
</ol>
<p>æ²¡é”™ï¼Œæ˜¯è¿™ä¸‰æ­¥ï¼Œä½†æ˜¯ä½ çœŸçš„ç†è§£äº†å—ï¼Ÿè‡³å°‘æˆ‘ç¬¬ä¸€æ¬¡çœ‹æŒºæ‡µé€¼çš„ã€‚å¥½å§ï¼Œæœ€ç›´è§‚çš„æ–¹æ³•å°±æ˜¯ï¼ŒæŠŠåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹ç”¨ä»£ç ä½“ç°å‡ºæ¥ï¼Œè¿™æ ·æ‰èƒ½è£…é€¼å˜›â€¦<br>ä½“éªŒï¼šè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥å®ç°ä¸Šé¢newæ“ä½œç¬¦çš„åŠŸèƒ½ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createObject = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>(),   <span class="comment">//(1)</span></span><br><span class="line">      Constructor = [].shift.call(<span class="built_in">arguments</span>);   <span class="comment">//(2)</span></span><br><span class="line">  obj.__proto__ = Constructor.prototype;    <span class="comment">//(3)</span></span><br><span class="line">  <span class="keyword">var</span> ret = Constructor.apply(obj, <span class="built_in">arguments</span>);    <span class="comment">//(4)</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> ret === <span class="string">'object'</span> ? ret : obj;   <span class="comment">//(5)</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> Freak = createObject(Rocker, <span class="string">'Freak'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Freak.name);  <span class="comment">//Freak</span></span><br><span class="line"><span class="built_in">console</span>.log(Freak.getName());  <span class="comment">//Freak</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(Freak) === Rocker.prototype); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>å°±æ˜¯ä¸Šé¢è¿™å‡ å¥ä»£ç ï¼Œå‘ä½ å±•ç°äº†ä¸€ä¸ªå®ä¾‹è¢«newå‡ºæ¥çš„è¿‡ç¨‹ã€‚</p>
<p>æˆ‘ä»¬æ¥ç®€å•åˆ†æä¸€ä¸‹å§ï¼Œå…¶å®å¾ˆæ¸…æ™°æ˜äº†äº†ã€‚</p>
<p>åœ¨(1)å¤„ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡ï¼ˆå‡†ç¡®çš„è¯´æ˜¯å…‹éš†äº†Object.prototypeå¯¹è±¡ï¼‰</p>
<p>æ¥ä¸‹æ¥(2)å–åˆ°æ„é€ å‡½æ•°ï¼Œèµ‹å€¼ç»™Constructorå˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´Rockeræ„é€ å‡½æ•°å˜æˆConstructorçš„ä¸€ä¸ªå¼•ç”¨äº†</p>
<p>æ¥ç€(3)æŠŠConstructor.prototypeï¼ˆä¹Ÿå°±æ˜¯Rocker.prototypeï¼‰èµ‹å€¼ç»™(1)åˆšåˆšåˆ›å»ºçš„objçš„åŸå‹é“¾ï¼Œæˆ–è€…è¿™ä¹ˆè¯´ï¼ŒæŠŠobjçš„åŸå‹é“¾æŒ‡å‘Constructorçš„åŸå‹</p>
<p>(4)æˆ‘ä»¬ç”¨applyæ”¹å˜thisçš„æŒ‡å‘ï¼Œç”¨objä»£æ›¿Constructoræ„é€ å‡½æ•°å†…éƒ¨çš„thisï¼Œå¹¶æŠŠargumentsä½œä¸ºå‚æ•°ä¼ å…¥ï¼ˆåœ¨ç¬¬2æ­¥æ—¶å·²ç»ç”¨shiftæŠŠç¬¬ä¸€ä¸ªå‚æ•°å»é™¤äº†ï¼‰ï¼Œæ­¤æ—¶çš„retå·²ç»æ˜¯ä¸€ä¸ªåˆæ ¼çš„å®ä¾‹äº†ï¼</p>
<p>ä¿é™©èµ·è§ï¼Œæˆ‘ä»¬(5)è¿”å›æ—¶åˆ¤æ–­retæ˜¯å¦æ˜¯å¯¹è±¡ï¼Œå¦‚æœä¸æ˜¯å°±è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡ï¼ˆå› ä¸ºå¾ˆå¤šäººçœŸçš„ä¸ä¼šæŒ‰ç…§è§„çŸ©ä¼ å‚ï¼ï¼ï¼ï¼‰</p>
<p>è¿™æ—¶å€™æˆ‘ä»¬å†å¤–éƒ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°è¯•è¯•ï¼Œå®æ—¶è¯æ˜ç¡®å®èƒ½è¾¾åˆ°newçš„æ•ˆæœã€‚</p>
<p>å†ç”¨getPrototypeOfæ–¹æ³•æµ‹è¯•ä¸€ä¸‹ï¼ŒFreakçš„åŸå‹é“¾çœŸçš„æŒ‡å‘Rockerçš„åŸå‹ï¼</p>
<p>è¿™å°±æ˜¯å®ä¾‹è¢«newå‡ºæ¥çš„è¿‡ç¨‹ï¼Œä½ æ˜äº†å—ï¼Ÿ</p>
<blockquote>
<p>è½¬è½½ï¼š<a href="https://rockjins.js.org/2017/01/18/2017-01-18-new-object/" target="_blank" rel="noopener">Rockjins Blog</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„æ„é€ å‡½æ•°ï¼š&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;li
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://shizhonghai.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Js ç®—æ³•ï¼šä¸¤æ•°ä¹‹å’Œ</title>
    <link href="https://shizhonghai.github.io/2020/09/10/javascript-algorithm01/"/>
    <id>https://shizhonghai.github.io/2020/09/10/javascript-algorithm01/</id>
    <published>2020-09-09T16:00:00.000Z</published>
    <updated>2020-09-10T11:40:29.828Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚<br>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹:"></a>ç¤ºä¾‹:</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®š nums = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target = <span class="number">9</span></span><br><span class="line"></span><br><span class="line">å› ä¸º nums[<span class="number">0</span>] + nums[<span class="number">1</span>] = <span class="number">2</span> + <span class="number">7</span> = <span class="number">9</span></span><br><span class="line">æ‰€ä»¥è¿”å› [<span class="number">0</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h2 id="è§£ä¸€ï¼š"><a href="#è§£ä¸€ï¼š" class="headerlink" title="è§£ä¸€ï¼š"></a>è§£ä¸€ï¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span> (<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> _arr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[i] + nums[j] === target) &#123;</span><br><span class="line">        _arr.push(i, j);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> _arr;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="è§£äºŒï¼š"><a href="#è§£äºŒï¼š" class="headerlink" title="è§£äºŒï¼š"></a>è§£äºŒï¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span> (<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> arrIndex = nums.findIndex(<span class="function"><span class="params">v</span> =&gt;</span> v === target - nums[i])</span><br><span class="line">    <span class="keyword">if</span> (arrIndex !== <span class="number">-1</span> &amp;&amp; arrIndex !== i) &#123;</span><br><span class="line">      <span class="keyword">return</span> [i, arrIndex]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è½¬è½½ï¼š<a href="https://leetcode-cn.com/problems/two-sum" target="_blank" rel="noopener">https://leetcode-cn.com/problems/two-sum</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚&lt;br&gt;ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹&quot; clas
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://shizhonghai.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Js æ ¹æ®ä¸€ä¸ªå¤šç»´æ•°ç»„æŸ¥è¯¢æœ€å¤§æ·±åº¦é—®é¢˜</title>
    <link href="https://shizhonghai.github.io/2020/08/14/javascript-depth-count/"/>
    <id>https://shizhonghai.github.io/2020/08/14/javascript-depth-count/</id>
    <published>2020-08-13T16:00:00.000Z</published>
    <updated>2020-08-21T03:02:35.634Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deep</span>(<span class="params">arr, count = <span class="number">0</span>, ttt = []</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">in</span> arr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(arr[index])) &#123;</span><br><span class="line">            count++</span><br><span class="line">            deep(arr[index], count, ttt)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ttt.push(count)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//return Math.max.apply(null, ttt) + 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(...ttt) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="string">'n'</span>, <span class="string">'i'</span>, [<span class="string">'t'</span>, [<span class="string">'nihao'</span>]]], [<span class="string">'a'</span>, <span class="string">'b'</span>]]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(deep(arr)) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://shizhonghai.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Js æ•°ç»„çš„æ·±åº¦é€’å½’æœç´¢</title>
    <link href="https://shizhonghai.github.io/2020/08/14/javascript-depth-recursion/"/>
    <id>https://shizhonghai.github.io/2020/08/14/javascript-depth-recursion/</id>
    <published>2020-08-13T16:00:00.000Z</published>
    <updated>2020-08-14T06:29:57.283Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fuck = [&#123;<span class="string">"label"</span>: <span class="string">"å ç”¨é“è·¯é—®é¢˜"</span>, <span class="string">"value"</span>: <span class="number">31</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"ç»è¥å é“"</span>, <span class="string">"value"</span>: <span class="number">35</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"åº—å¤–ç»è¥å é“"</span>, <span class="string">"value"</span>: <span class="number">40</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125;, &#123;<span class="string">"label"</span>: <span class="string">"æµåŠ¨æ‘Šè´©å é“"</span>, <span class="string">"value"</span>: <span class="number">41</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125; ] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"åƒåœ¾å é“"</span>, <span class="string">"value"</span>: <span class="number">36</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"ç”Ÿæ´»åƒåœ¾"</span>, <span class="string">"value"</span>: <span class="number">42</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å»ºç­‘åƒåœ¾"</span>, <span class="string">"value"</span>: <span class="number">43</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å·¥ä¸šåƒåœ¾"</span>, <span class="string">"value"</span>: <span class="number">44</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125; ] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"è½¦è¾†å é“"</span>, <span class="string">"value"</span>: <span class="number">37</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"æœºåŠ¨è½¦å é“"</span>, <span class="string">"value"</span>: <span class="number">45</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125;, &#123;<span class="string">"label"</span>: <span class="string">"éæœºåŠ¨è½¦å é“"</span>, <span class="string">"value"</span>: <span class="number">46</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125; ] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"éœ¸å è½¦ä½"</span>, <span class="string">"value"</span>: <span class="number">38</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å…¶ä»–å é“"</span>, <span class="string">"value"</span>: <span class="number">39</span>, <span class="string">"children"</span>: [] &#125; ]&#125;, &#123;<span class="string">"label"</span>: <span class="string">"â€œä¸¤è¿â€é—®é¢˜"</span>, <span class="string">"value"</span>: <span class="number">32</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"è¿æ³•å»ºç­‘"</span>, <span class="string">"value"</span>: <span class="number">58</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"æˆ¿å±‹è¿å»º"</span>, <span class="string">"value"</span>: <span class="number">61</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å°åŒºè¿å»º"</span>, <span class="string">"value"</span>: <span class="number">62</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125;, &#123;<span class="string">"label"</span>: <span class="string">"è¿å»ºæ£šæ¶"</span>, <span class="string">"value"</span>: <span class="number">63</span>, <span class="string">"children"</span>: <span class="literal">null</span> &#125; ] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"è¿æ³•ç”¨åœ°"</span>, <span class="string">"value"</span>: <span class="number">59</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å…¶ä»–è¿å»º"</span>, <span class="string">"value"</span>: <span class="number">60</span>, <span class="string">"children"</span>: [] &#125; ] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å¸‚å®¹è®¾æ–½ç®¡ç†é—®é¢˜"</span>, <span class="string">"value"</span>: <span class="number">33</span>, <span class="string">"children"</span>: [&#123;<span class="string">"label"</span>: <span class="string">"é“è·¯æŸå"</span>, <span class="string">"value"</span>: <span class="number">47</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"åƒåœ¾æ¡¶æŸå"</span>, <span class="string">"value"</span>: <span class="number">48</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"ä¸‹æ°´é“å µå¡"</span>, <span class="string">"value"</span>: <span class="number">49</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"äº•ç›–æŸå"</span>, <span class="string">"value"</span>: <span class="number">50</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"è·¯ç¯æŸå"</span>, <span class="string">"value"</span>: <span class="number">51</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"æ ‘æœ¨ä¿®å‰ª"</span>, <span class="string">"value"</span>: <span class="number">52</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"æ°´ç”µæ°”"</span>, <span class="string">"value"</span>: <span class="number">53</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"æˆ·å¤–å¹¿å‘Šç‰Œ"</span>, <span class="string">"value"</span>: <span class="number">54</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"éš”éŸ³å±æŸå"</span>, <span class="string">"value"</span>: <span class="number">55</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"æ´’æ°´è½¦é—®é¢˜"</span>, <span class="string">"value"</span>: <span class="number">56</span>, <span class="string">"children"</span>: [] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å…¶ä»–"</span>, <span class="string">"value"</span>: <span class="number">57</span>, <span class="string">"children"</span>: [] &#125; ] &#125;, &#123;<span class="string">"label"</span>: <span class="string">"å…¶ä»–é—®é¢˜"</span>, <span class="string">"value"</span>: <span class="number">34</span>, <span class="string">"children"</span>: [] &#125; ]</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·±åº¦é€’å½’æœç´¢</span></span><br><span class="line"><span class="comment"> * @param &#123;Array&#125; arr ä½ è¦æœç´¢çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> * @param &#123;Function&#125; condition å›è°ƒå‡½æ•°ï¼Œå¿…é¡»è¿”å›è°“è¯ï¼Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†ã€‚ä¼šä¼ å…¥(item, index, level)ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line"><span class="comment"> * @param &#123;String&#125; children å­æ•°ç»„çš„key</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> deepFind = <span class="function">(<span class="params">arr, condition, children</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å³å°†è¿”å›çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">let</span> main = []</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨tryæ–¹æ¡ˆæ–¹ä¾¿ç›´æ¥ä¸­æ­¢æ‰€æœ‰é€’å½’çš„ç¨‹åº</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// å¼€å§‹è½®è¯¢</span></span><br><span class="line">        (<span class="function"><span class="keyword">function</span> <span class="title">poll</span>(<span class="params">arr, level</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœä¼ å…¥éæ•°ç»„</span></span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// éå†æ•°ç»„</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">                <span class="comment">// è·å–å½“å‰é¡¹</span></span><br><span class="line">                <span class="keyword">const</span> item = arr[i]</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å…ˆå ä½é¢„è®¾å€¼</span></span><br><span class="line">                main[level] = item</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æ£€éªŒæ˜¯å¦å·²ç»æ‰¾åˆ°äº†</span></span><br><span class="line">                <span class="keyword">const</span> isFind = condition &amp;&amp; condition(item, i, level) || <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// å¦‚æœå·²ç»æ‰¾åˆ°äº†</span></span><br><span class="line">                <span class="keyword">if</span> (isFind) &#123;</span><br><span class="line">                    <span class="comment">// ç›´æ¥æŠ›å‡ºé”™è¯¯ä¸­æ–­æ‰€æœ‰è½®è¯¢</span></span><br><span class="line">                    <span class="keyword">throw</span> <span class="built_in">Error</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// å¦‚æœå­˜åœ¨childrenï¼Œé‚£ä¹ˆæ·±å…¥é€’å½’</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (children &amp;&amp; item[children] &amp;&amp; item[children].length) &#123;</span><br><span class="line">                    poll(item[children], level + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å¦‚æœæ˜¯æœ€åä¸€ä¸ªä¸”æ²¡æœ‰æ‰¾åˆ°å€¼ï¼Œé‚£ä¹ˆé€šè¿‡ä¿®æ”¹æ•°ç»„é•¿åº¦æ¥åˆ é™¤å½“å‰é¡¹</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i === arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">                   <span class="comment">// åˆ é™¤å ä½é¢„è®¾å€¼</span></span><br><span class="line">                   main.length = main.length - <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)(arr, <span class="number">0</span>)</span><br><span class="line">    <span class="comment">// ä½¿ç”¨try/catchæ˜¯ä¸ºäº†ä¸­æ­¢æ‰€æœ‰è½®è¯¢ä¸­çš„ä»»åŠ¡</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€ç»ˆæ•°ç»„</span></span><br><span class="line">    <span class="keyword">return</span> main</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> resultArr = deepFind(fuck, (item, index, level) =&gt; item.value === <span class="number">63</span>, <span class="string">'children'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(resultArr);  <span class="comment">// [&#123;â€¦&#125;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br><span class="line"><span class="built_in">console</span>.log(resultArr.map(<span class="function"><span class="params">_</span> =&gt;</span> _.value)); <span class="comment">// [32, 58, 63]</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; fuck = [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å ç”¨é“è·¯é—®é¢˜&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;31&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;ç»è¥å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;35&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;åº—å¤–ç»è¥å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æµåŠ¨æ‘Šè´©å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;41&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125; ] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;åƒåœ¾å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;36&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;ç”Ÿæ´»åƒåœ¾&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;42&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å»ºç­‘åƒåœ¾&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;43&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å·¥ä¸šåƒåœ¾&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;44&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125; ] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;è½¦è¾†å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;37&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æœºåŠ¨è½¦å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;45&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;éæœºåŠ¨è½¦å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;46&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125; ] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;éœ¸å è½¦ä½&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;38&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å…¶ä»–å é“&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;39&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125; ]&amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;â€œä¸¤è¿â€é—®é¢˜&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;32&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;è¿æ³•å»ºç­‘&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æˆ¿å±‹è¿å»º&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;61&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å°åŒºè¿å»º&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;62&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;è¿å»ºæ£šæ¶&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;63&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;#125; ] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;è¿æ³•ç”¨åœ°&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;59&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å…¶ä»–è¿å»º&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125; ] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å¸‚å®¹è®¾æ–½ç®¡ç†é—®é¢˜&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;33&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;é“è·¯æŸå&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;47&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;åƒåœ¾æ¡¶æŸå&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;48&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;ä¸‹æ°´é“å µå¡&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;49&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;äº•ç›–æŸå&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;è·¯ç¯æŸå&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;51&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æ ‘æœ¨ä¿®å‰ª&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;52&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æ°´ç”µæ°”&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æˆ·å¤–å¹¿å‘Šç‰Œ&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;54&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;éš”éŸ³å±æŸå&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;55&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;æ´’æ°´è½¦é—®é¢˜&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å…¶ä»–&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;57&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125; ] &amp;#125;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;label&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;å…¶ä»–é—®é¢˜&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;34&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;children&quot;&lt;/span&gt;: [] &amp;#125; ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * æ·±åº¦é€’å½’æœç´¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * @param &amp;#123;Array&amp;#125; arr ä½ è¦æœç´¢çš„æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * @param &amp;#123;Function&amp;#125; condition å›è°ƒå‡½æ•°ï¼Œå¿…é¡»è¿”å›è°“è¯ï¼Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†ã€‚ä¼šä¼ å…¥(item, index, level)ä¸‰ä¸ªå‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * @param &amp;#123;String&amp;#125; children å­æ•°ç»„çš„key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; deepFind = &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;arr, condition, children&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å³å°†è¿”å›çš„æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; main = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ç”¨tryæ–¹æ¡ˆæ–¹ä¾¿ç›´æ¥ä¸­æ­¢æ‰€æœ‰é€’å½’çš„ç¨‹åº&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å¼€å§‹è½®è¯¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;poll&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr, level&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// å¦‚æœä¼ å…¥éæ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.isArray(arr)) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// éå†æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; arr.length; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// è·å–å½“å‰é¡¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; item = arr[i]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// å…ˆå ä½é¢„è®¾å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                main[level] = item&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// æ£€éªŒæ˜¯å¦å·²ç»æ‰¾åˆ°äº†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; isFind = condition &amp;amp;&amp;amp; condition(item, i, level) || &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// å¦‚æœå·²ç»æ‰¾åˆ°äº†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isFind) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// ç›´æ¥æŠ›å‡ºé”™è¯¯ä¸­æ–­æ‰€æœ‰è½®è¯¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Error&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// å¦‚æœå­˜åœ¨childrenï¼Œé‚£ä¹ˆæ·±å…¥é€’å½’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (children &amp;amp;&amp;amp; item[children] &amp;amp;&amp;amp; item[children].length) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    poll(item[children], level + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// å¦‚æœæ˜¯æœ€åä¸€ä¸ªä¸”æ²¡æœ‰æ‰¾åˆ°å€¼ï¼Œé‚£ä¹ˆé€šè¿‡ä¿®æ”¹æ•°ç»„é•¿åº¦æ¥åˆ é™¤å½“å‰é¡¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (i === arr.length - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   &lt;span class=&quot;comment&quot;&gt;// åˆ é™¤å ä½é¢„è®¾å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   main.length = main.length - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;)(arr, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨try/catchæ˜¯ä¸ºäº†ä¸­æ­¢æ‰€æœ‰è½®è¯¢ä¸­çš„ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (err) &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è¿”å›æœ€ç»ˆæ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; main&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; resultArr = deepFind(fuck, (item, index, level) =&amp;gt; item.value === &lt;span class=&quot;number&quot;&gt;63&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;children&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(resultArr);  &lt;span class=&quot;comment&quot;&gt;// [&amp;#123;â€¦&amp;#125;, &amp;#123;â€¦&amp;#125;, &amp;#123;â€¦&amp;#125;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(resultArr.map(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;_&lt;/span&gt; =&amp;gt;&lt;/span&gt; _.value)); &lt;span class=&quot;comment&quot;&gt;// [32, 58, 63]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://shizhonghai.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº ECharts canvas å±‚çº§å¤ªé«˜ å¯¼è‡´ tooltip è¢«é®ç›–</title>
    <link href="https://shizhonghai.github.io/2020/07/08/echart-tooltip/"/>
    <id>https://shizhonghai.github.io/2020/07/08/echart-tooltip/</id>
    <published>2020-07-07T16:00:00.000Z</published>
    <updated>2020-07-08T03:11:42.370Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ ¸å¿ƒä»£ç */</span></span><br><span class="line"><span class="selector-tag">canvas</span> &#123;</span><br><span class="line"> <span class="attribute">z-index</span>: -<span class="number">1</span>;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;
    
    </summary>
    
    
      <category term="EChart" scheme="https://shizhonghai.github.io/tags/EChart/"/>
    
  </entry>
  
  <entry>
    <title>Sequelize ä¸­ Model çš„æ•°æ®ç±»å‹</title>
    <link href="https://shizhonghai.github.io/2020/05/27/sequelize-model-dataType/"/>
    <id>https://shizhonghai.github.io/2020/05/27/sequelize-model-dataType/</id>
    <published>2020-05-26T16:00:00.000Z</published>
    <updated>2020-05-27T03:49:42.128Z</updated>
    
    <content type="html"><![CDATA[<p>Sequelize ä¸­ Model çš„æ•°æ®ç±»å‹å¯¹åº”MySQLä¸­çš„æ•°æ®ç±»å‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Sequelize.STRING                      // VARCHAR(255)                  ç±»å‹ï¼šå­—ç¬¦ä¸² æœ€å¤§å€¼ï¼š 65535ä¸ªå­—ç¬¦</span><br><span class="line">Sequelize.STRING(1234)                // VARCHAR(1234)                 ç±»å‹ï¼šå˜é•¿ æœ€å¤§å€¼ï¼š 65535ä¸ªå­—ç¬¦</span><br><span class="line">Sequelize.TEXT                        // TEXT                          ç±»å‹ï¼šå­—ç¬¦ä¸² æœ€å¤§å€¼ï¼š65535ä¸ªå­—ç¬¦</span><br><span class="line">Sequelize.TEXT(&apos;tiny&apos;)                // TINYTEXT                      ç±»å‹ï¼šå­—ç¬¦ä¸² æœ€å¤§å€¼ï¼š255ä¸ªå­—ç¬¦</span><br><span class="line"></span><br><span class="line">Sequelize.INTEGER                     // INTEGER                       ç±»å‹ï¼šæ•´å‹ æœ€å¤§å€¼ï¼šèŒƒå›´(-2147483648~2147483647)</span><br><span class="line">Sequelize.BIGINT                      // BIGINT                        ç±»å‹ï¼šæ•´å‹ æœ€å¤§å€¼ï¼šèŒƒå›´(+-9.22*10çš„18æ¬¡æ–¹)</span><br><span class="line">Sequelize.BIGINT(11)                  // BIGINT(11)                    ç±»å‹ï¼šæ•´å‹ æœ€å¤§å€¼ï¼šèŒƒå›´(+-9.22*10çš„18æ¬¡æ–¹)</span><br><span class="line"></span><br><span class="line">Sequelize.FLOAT                       // FLOAT                         ç±»å‹ï¼šå•ç²¾åº¦æµ®ç‚¹å‹  8ä½ç²¾åº¦(4å­—èŠ‚)</span><br><span class="line">Sequelize.FLOAT(11)                   // FLOAT(11)                     ç±»å‹ï¼šå•ç²¾åº¦æµ®ç‚¹å‹ 8ä½ç²¾åº¦(4å­—èŠ‚)</span><br><span class="line">Sequelize.FLOAT(11, 12)               // FLOAT(11,12)                  ç±»å‹ï¼šç²¾åº¦æµ®ç‚¹å‹ 8ä½ç²¾åº¦(4å­—èŠ‚) mæ€»ä¸ªæ•°ï¼Œdå°æ•°ä½</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Sequelize.DOUBLE                      // DOUBLE                        ç±»å‹ï¼šåŒç²¾åº¦æµ®ç‚¹å‹ 16ä½ç²¾åº¦(8å­—èŠ‚) </span><br><span class="line">Sequelize.DOUBLE(11)                  // DOUBLE(11)                    ç±»å‹ï¼šåŒç²¾åº¦æµ®ç‚¹å‹ 16ä½ç²¾åº¦(8å­—èŠ‚) </span><br><span class="line">Sequelize.DOUBLE(11, 12)              // DOUBLE(11,12)                 ç±»å‹ï¼šåŒç²¾åº¦æµ®ç‚¹å‹ 16ä½ç²¾åº¦(8å­—èŠ‚) mæ€»ä¸ªæ•°ï¼Œdå°æ•°ä½</span><br><span class="line"></span><br><span class="line">Sequelize.DECIMAL                     // DECIMAL                       ç±»å‹ï¼šå®šç‚¹æ•°å‹</span><br><span class="line">Sequelize.DECIMAL(10, 2)              // DECIMAL(10,2)                 ç±»å‹ï¼šå®šç‚¹æ•°å‹ å‚æ•°m&lt;65 æ˜¯æ€»ä¸ªæ•°ï¼Œd&lt;30ä¸” d&lt;m æ˜¯å°æ•°ä½</span><br><span class="line"></span><br><span class="line">Sequelize.DATE                        // DATETIME                      ç±»å‹ï¼šæ—¥æœŸæ—¶é—´ç±»å‹ èŒƒä¾‹ï¼š&apos;2009-05-12 02:31:44&apos;</span><br><span class="line">Sequelize.DATE(6)                     // DATETIME(6)    </span><br><span class="line">Sequelize.DATEONLY                    // DATE without time.</span><br><span class="line">Sequelize.BOOLEAN                     // TINYINT(1)                    ç±»å‹ï¼šæ•´å‹ èŒƒå›´(-128~127)</span><br><span class="line"></span><br><span class="line">Sequelize.ENUM(&apos;value 1&apos;, &apos;value 2&apos;)  // ENUM                          ç±»å‹ï¼šæšä¸¾</span><br><span class="line"></span><br><span class="line">Sequelize.BLOB                        // BLOB                          ç±»å‹ï¼šäºŒè¿›åˆ¶æ•°æ®</span><br><span class="line">Sequelize.BLOB(&apos;tiny&apos;)                // TINYBLOB                      ç±»å‹ï¼šäºŒè¿›åˆ¶æ•°æ®</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Sequelize ä¸­ Model çš„æ•°æ®ç±»å‹å¯¹åº”MySQLä¸­çš„æ•°æ®ç±»å‹&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;b
    
    </summary>
    
    
      <category term="Sequelize" scheme="https://shizhonghai.github.io/tags/Sequelize/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº EChart é¡µé¢å¤šä¸ªå›¾è¡¨ï¼Œæ”¹å˜çª—ä½“å¤§å°å›¾è¡¨ä¸æ¸²æŸ“é—®é¢˜</title>
    <link href="https://shizhonghai.github.io/2020/04/14/echart-resize/"/>
    <id>https://shizhonghai.github.io/2020/04/14/echart-resize/</id>
    <published>2020-04-13T16:00:00.000Z</published>
    <updated>2020-04-14T03:58:12.090Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><p>1.å›¾è¡¨å®½åº¦éœ€è®¾ç½®æˆ 100%</p>
</li>
<li><p>2.åŒé¡µé¢å¤šå›¾è¡¨è¯·ç”¨ <code>addEventListener</code> æ–¹æ³•ç›‘å¬çª—ä½“å¤§å°æ”¹å˜</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›‘å¬çª—å£å˜åŒ– - åªåˆ·æ–°æœ€åä¸€ä¸ªå›¾è¡¨,åå®šä¹‰çš„ä¼šè¦†ç›–å‰é¢å®šä¹‰çš„ï¼Œåªæœ‰1ä¸ªç”Ÿæ•ˆ</span></span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">    EChart.resize(); </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬çª—å£å˜åŒ– - å¤šä¸ªå›¾è¡¨åŒæ—¶åˆ·æ–°</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;                </span><br><span class="line">	EChart.resize();           </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;p&gt;1.å›¾è¡¨å®½åº¦éœ€è®¾ç½®æˆ 100%&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;2.åŒé¡µé¢å¤šå›¾è¡¨è¯·ç”¨ &lt;code&gt;addEventListener&lt;/code&gt; æ–¹æ³•ç›‘å¬çª—ä½“å¤§å°æ”¹å˜&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight ja
    
    </summary>
    
    
      <category term="EChart" scheme="https://shizhonghai.github.io/tags/EChart/"/>
    
  </entry>
  
  <entry>
    <title>Js æ•°ç»„æ‰å¹³åŒ–</title>
    <link href="https://shizhonghai.github.io/2020/04/13/javascript-arrary/"/>
    <id>https://shizhonghai.github.io/2020/04/13/javascript-arrary/</id>
    <published>2020-04-12T16:00:00.000Z</published>
    <updated>2020-04-13T11:58:40.897Z</updated>
    
    <content type="html"><![CDATA[<p>é—®é¢˜ï¼š[[0, 1], [2, 3], [4, 5]] -&gt; [0, 1, 2, 3, 4, 5]ï¼Ÿ</p>
<h2 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h2><blockquote>
<p>åˆ©ç”¨ <code>es5</code> çš„ <code>arr.reduce(callback[, initialValue])</code> å®ç°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1.reduce( <span class="function">(<span class="params">a, b</span>) =&gt;</span> a.concat(b) );</span><br><span class="line"><span class="comment">// arr2 [0, 1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h2><blockquote>
<p>å¤šç»´æ•°ç»„</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [[<span class="number">1</span>,<span class="number">2</span>],<span class="number">3</span>,[[[<span class="number">4</span>], <span class="number">5</span>]]]</span><br><span class="line"><span class="keyword">let</span>  flatten = <span class="function">(<span class="params">arr</span>) =&gt;</span> [].concat( ...arr.map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">Array</span>.isArray(x) ? flatten(x) : x) )  </span><br><span class="line"><span class="keyword">let</span> arr2 = flatten(arr);</span><br><span class="line"><span class="built_in">console</span>.log(arr2)       <span class="comment">// arr2 [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h2 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h2><blockquote>
<p>åˆ©ç”¨ <code>apply</code> å®ç°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]];</span><br><span class="line"><span class="keyword">let</span> arr2 = [].concat.apply([], arr1);</span><br><span class="line"><span class="built_in">console</span>.log(arr2);      <span class="comment">// arr2 [0, 1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h2 id="æ–¹æ³•å››"><a href="#æ–¹æ³•å››" class="headerlink" title="æ–¹æ³•å››"></a>æ–¹æ³•å››</h2><blockquote>
<p>åˆ©ç”¨ ES çš„æœ€æ–°è¯­æ³•ï¼Œ<code>Array.prototype.flat()</code>ã€‚ç¼ºç‚¹æ˜¯ï¼Œæœ‰å…¼å®¹æ€§é—®é¢˜ã€‚ä¼˜ç‚¹æ˜¯éå¸¸ç®€å•ã€‚<br>  <code>flat()</code> æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„(é»˜è®¤å€¼ä¸º1)ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1.flat();     <span class="comment">// arr2 [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr3 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>]]];</span><br><span class="line"><span class="keyword">let</span> arr4 = arr3.flat();     <span class="comment">// arr4 [1, 2, 3, 4, [5, 6]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr5 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>]]];</span><br><span class="line"><span class="keyword">let</span> arr6 = arr5.flat(<span class="number">2</span>);    <span class="comment">// arr6 [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arrInfinity = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>, [<span class="number">7</span>, <span class="number">8</span>, [<span class="number">9</span>, <span class="number">10</span>]]]]];</span><br><span class="line"><span class="keyword">let</span> arr7 = arrInfinity.flat(<span class="literal">Infinity</span>);     <span class="comment">// arr7 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// flat() æ–¹æ³•ä¼šç§»é™¤æ•°ç»„ä¸­çš„ç©ºé¡¹ï¼Œä½† undefinedã€null ä»ä¼šä¿ç•™</span></span><br><span class="line"><span class="keyword">let</span> arr8 = [<span class="number">1</span>, <span class="number">2</span>, , <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> arr9 = arr8.flat();             <span class="comment">// arr9 [1, 2, 4, 5]</span></span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é—®é¢˜ï¼š[[0, 1], [2, 3], [4, 5]] -&amp;gt; [0, 1, 2, 3, 4, 5]ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;æ–¹æ³•ä¸€&quot;&gt;&lt;a href=&quot;#æ–¹æ³•ä¸€&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•ä¸€&quot;&gt;&lt;/a&gt;æ–¹æ³•ä¸€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;åˆ©ç”¨ &lt;code&gt;es5&lt;/code&gt; çš„ &lt;code&gt;arr.reduce(callback[, initialValue])&lt;/code&gt; å®ç°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; arr1 = [[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; arr2 = arr1.reduce( &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; a.concat(b) );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// arr2 [0, 1, 2, 3, 4, 5]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://shizhonghai.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Nginx é…ç½® https å¹¶å¼ºåˆ¶è·³è½¬ 443 ç«¯å£</title>
    <link href="https://shizhonghai.github.io/2020/04/02/nginx-config-https/"/>
    <id>https://shizhonghai.github.io/2020/04/02/nginx-config-https/</id>
    <published>2020-04-01T16:00:00.000Z</published>
    <updated>2020-04-02T05:40:29.040Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Nginx/TengineæœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦</p>
<h2 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h2><p>ç”³è¯·è¯ä¹¦æ—¶éœ€è¦é€‰æ‹© ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºCSRã€‚</p>
<h2 id="æ“ä½œæŒ‡å—"><a href="#æ“ä½œæŒ‡å—" class="headerlink" title="æ“ä½œæŒ‡å—"></a>æ“ä½œæŒ‡å—</h2><p>1.ç™»å½•é˜¿é‡Œäº‘<a href="https://yundunnext.console.aliyun.com/?p=casnext#/overview/cn-hangzhou" target="_blank" rel="noopener">SSLè¯ä¹¦æ§åˆ¶å°</a>ã€‚</p>
<p>2.åœ¨SSLè¯ä¹¦é¡µé¢å®šä½åˆ°éœ€è¦ä¸‹è½½çš„è¯ä¹¦(å¦‚æ²¡æœ‰è¯ä¹¦ï¼Œè¯·å…ˆè´­ä¹°)ï¼Œå¹¶å•å‡»ä¸‹è½½æŒ‰é’®<br><img src="/images/nginx-2020-04-02_11-37-31.png" alt="nginx https é…ç½®1" title="nginx https é…ç½®1"></p>
<a id="more"></a>
<p>3.åœ¨è¯ä¹¦ä¸‹è½½ä¾§é¡µé¢ä¸­å®šä½åˆ° Nginx æœåŠ¡å™¨ï¼Œå¹¶å•å‡»å³ä¾§æ“ä½œæ çš„ä¸‹è½½ï¼Œå°† Nginx æœåŠ¡å™¨è¯ä¹¦å‹ç¼©åŒ…ä¸‹è½½åˆ°æœ¬åœ°ã€‚<br><img src="/images/nginx-2020-04-02_11-45-45.png" alt="nginx https é…ç½®2" title="nginx https é…ç½®2"></p>
<p>4.è§£å‹å·²ä¸‹è½½ä¿å­˜åˆ°æœ¬åœ°çš„ Nginx è¯ä¹¦å‹ç¼©åŒ…æ–‡ä»¶ã€‚<br>è§£å‹åçš„æ–‡ä»¶å¤¹ä¸­æœ‰2ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>è¯ä¹¦æ–‡ä»¶ï¼šä»¥.pemä¸ºåç¼€æˆ–æ–‡ä»¶ç±»å‹ã€‚</li>
<li>å¯†é’¥æ–‡ä»¶ï¼šä»¥.keyä¸ºåç¼€æˆ–æ–‡ä»¶ç±»å‹ã€‚</li>
</ul>
<p><img src="/images/nginx-2020-04-02_11-52-32.png" alt="nginx https é…ç½®3" title="nginx https é…ç½®3"></p>
<p>5.ç™»å½•æ‚¨çš„ Nginx æœåŠ¡å™¨ï¼Œåœ¨Nginxå®‰è£…ç›®å½•ï¼ˆé»˜è®¤Nginxå®‰è£…ç›®å½•ä¸º/usr/local/nginx/confï¼‰ä¸‹åˆ›å»ºcertç›®å½•ï¼Œå¹¶å°†ä¸‹è½½çš„è¯ä¹¦æ–‡ä»¶å’Œå¯†é’¥æ–‡ä»¶æ‹·è´åˆ°certç›®å½•ä¸­ã€‚</p>
<blockquote>
<p>è¯´æ˜ å¦‚æœæ‚¨åœ¨ç”³è¯·è¯ä¹¦æ—¶é€‰æ‹©æ‰‹åŠ¨åˆ›å»ºCSRæ–‡ä»¶ï¼Œè¯·å°†å¯¹åº”çš„å¯†é’¥æ–‡ä»¶æ”¾åˆ°certç›®å½•ä¸­ï¼Œå¹¶å‘½åä¸ºdomain name.keyã€‚</p>
</blockquote>
<p>6.ä¿®æ”¹Nginxå®‰è£…ç›®å½•/conf/nginx.confæ–‡ä»¶ã€‚<br>   æŒ‰ç…§ä¸‹æ–‡ä¸­æ³¨é‡Šå†…å®¹ä¿®æ”¹nginx.confæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># ä»¥ä¸‹å±æ€§ä¸­ä»¥sslå¼€å¤´çš„å±æ€§ä»£è¡¨ä¸è¯ä¹¦é…ç½®æœ‰å…³ï¼Œå…¶ä»–å±æ€§è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé…ç½®ã€‚</span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;   #SSLåè®®è®¿é—®ç«¯å£å·ä¸º443ã€‚æ­¤å¤„å¦‚æœªæ·»åŠ sslï¼Œå¯èƒ½ä¼šé€ æˆNginxæ— æ³•å¯åŠ¨ã€‚</span><br><span class="line">    server_name localhost;  #å°†localhostä¿®æ”¹ä¸ºæ‚¨è¯ä¹¦ç»‘å®šçš„åŸŸåï¼Œä¾‹å¦‚ï¼šwww.example.comã€‚</span><br><span class="line">    ssl_certificate ../cert/domain name.pem;   #å°†domain name.pemæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„æ–‡ä»¶åã€‚</span><br><span class="line">    ssl_certificate_key ../cert/domain name.key;   #å°†domain name.keyæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„å¯†é’¥æ–‡ä»¶åã€‚</span><br><span class="line">    ssl_session_timeout 5m;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;  #ä½¿ç”¨æ­¤åŠ å¯†å¥—ä»¶ã€‚</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;   #ä½¿ç”¨è¯¥åè®®è¿›è¡Œé…ç½®ã€‚</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    # ä»¥ä¸‹é…ç½®ä¸»è¦åš8086ç«¯å£è½¬å‘ï¼Œå…·ä½“é…ç½®è¯·ä»¥å®é™…é¡¹ç›®ä¸ºå‡†   </span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_pass_request_headers on;</span><br><span class="line">        proxy_http_version 1.1; </span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">        proxy_pass http://127.0.0.1:8086; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 80ç«¯å£é‡å®šå‘åˆ°443ç«¯å£</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name xxxx.com;   # ä½ çš„åŸŸå</span><br><span class="line">    rewrite ^(.*)$ https://$host$1 permanent;   # æŠŠhttpçš„åŸŸåè¯·æ±‚è½¬æˆhttps</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 443;</span><br><span class="line">    server_name xxx.com;</span><br><span class="line">    return 301 https://www.xxx.com$request_uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>7.ä¿å­˜nginx.confæ–‡ä»¶åé€€å‡ºã€‚<br>8.æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯NginxæœåŠ¡å™¨ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop</span><br><span class="line">nginx -s start</span><br></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨Nginx/TengineæœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦&lt;/p&gt;
&lt;h2 id=&quot;å‰ææ¡ä»¶&quot;&gt;&lt;a href=&quot;#å‰ææ¡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;å‰ææ¡ä»¶&quot;&gt;&lt;/a&gt;å‰ææ¡ä»¶&lt;/h2&gt;&lt;p&gt;ç”³è¯·è¯ä¹¦æ—¶éœ€è¦é€‰æ‹© ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºCSRã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ“ä½œæŒ‡å—&quot;&gt;&lt;a href=&quot;#æ“ä½œæŒ‡å—&quot; class=&quot;headerlink&quot; title=&quot;æ“ä½œæŒ‡å—&quot;&gt;&lt;/a&gt;æ“ä½œæŒ‡å—&lt;/h2&gt;&lt;p&gt;1.ç™»å½•é˜¿é‡Œäº‘&lt;a href=&quot;https://yundunnext.console.aliyun.com/?p=casnext#/overview/cn-hangzhou&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;SSLè¯ä¹¦æ§åˆ¶å°&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;2.åœ¨SSLè¯ä¹¦é¡µé¢å®šä½åˆ°éœ€è¦ä¸‹è½½çš„è¯ä¹¦(å¦‚æ²¡æœ‰è¯ä¹¦ï¼Œè¯·å…ˆè´­ä¹°)ï¼Œå¹¶å•å‡»ä¸‹è½½æŒ‰é’®&lt;br&gt;&lt;img src=&quot;/images/nginx-2020-04-02_11-37-31.png&quot; alt=&quot;nginx https é…ç½®1&quot; title=&quot;nginx https é…ç½®1&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Nginx" scheme="https://shizhonghai.github.io/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>WebStorm å¦‚ä½•è¯†åˆ« Webpack ä¸­çš„åˆ«å</title>
    <link href="https://shizhonghai.github.io/2020/04/02/webstorm-webpack-config/"/>
    <id>https://shizhonghai.github.io/2020/04/02/webstorm-webpack-config/</id>
    <published>2020-04-01T16:00:00.000Z</published>
    <updated>2020-04-02T09:54:36.961Z</updated>
    
    <content type="html"><![CDATA[<p>ä¾‹å¦‚ï¼šåœ¨webpack.base.config.js æ–‡ä»¶ä¸­çš„åˆ«åé…ç½®<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolve</span> (<span class="params">dir</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path.join(__dirname, <span class="string">'.'</span>, dir)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    context: path.resolve(__dirname, <span class="string">'./'</span>),</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>],</span><br><span class="line">        alias: &#123;</span><br><span class="line">            <span class="string">'@'</span>: resolve(<span class="string">'src'</span>),</span><br><span class="line">            <span class="string">'@views'</span>: resolve(<span class="string">'src/views'</span>),</span><br><span class="line">            <span class="string">'@components'</span>: resolve(<span class="string">'src/components'</span>),</span><br><span class="line">            <span class="string">'@core'</span>: resolve(<span class="string">'src/core'</span>),</span><br><span class="line">            <span class="string">'@utils'</span>: resolve(<span class="string">'src/utils'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>WebStorm Windows settingï¼š<br><code>File &gt; Settings &gt; Languages and Frameworks &gt;JavaScript | Webpack</code></p>
<p>WebStorm MacOS settingï¼š</p>
<p><code>WebStorm | Preferences | Languages and Frameworks | JavaScript | Webpack</code></p>
<p>é…ç½®å¦‚ä¸‹å›¾ï¼š<br><img src="/images/webstorm-webpack-config.png" alt="WebStorm é…ç½®" title="WebStorm é…ç½®"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¾‹å¦‚ï¼šåœ¨webpack.base.config.js æ–‡ä»¶ä¸­çš„åˆ«åé…ç½®&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span
    
    </summary>
    
    
      <category term="WebStorm" scheme="https://shizhonghai.github.io/tags/WebStorm/"/>
    
  </entry>
  
  <entry>
    <title>Linux ä¸‹å®‰è£… pm2 åæ‰¾ä¸åˆ° pm2 å‘½ä»¤è§£å†³æ–¹æ³•</title>
    <link href="https://shizhonghai.github.io/2020/03/31/node-pm2/"/>
    <id>https://shizhonghai.github.io/2020/03/31/node-pm2/</id>
    <published>2020-03-30T16:00:00.000Z</published>
    <updated>2020-03-31T06:18:31.632Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©å®‰è£…pm2ç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ <code>npm install pm2 -g</code> å®‰è£…å®Œæˆæ—¶ï¼Œæ‰¾ä¸åˆ° pm2 å‘½ä»¤ï¼š</p>
<p><img src="/images/pm2-01.png" alt="npm install pm2" title="npm install pm2"></p>
<p>åœ¨å®‰è£…æç¤ºä¸­å¯ä»¥çœ‹åˆ° pm2 å®‰è£…ä½ç½®ï¼Œæ­¤æ—¶æˆ‘ä»¬åªè¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† pm2 æ”¾å…¥ç³»ç»Ÿè·¯å¾„ä¸‹å°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/src/node-v12.13.0-linux-x64/bin/pm2 /usr/local/bin/</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©å®‰è£…pm2ç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ &lt;code&gt;npm install pm2 -g&lt;/code&gt; å®‰è£…å®Œæˆæ—¶ï¼Œæ‰¾ä¸åˆ° pm2 å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/pm2-01.png&quot; alt=&quot;npm install pm2&quot; title=&quot;npm 
    
    </summary>
    
    
      <category term="pm2" scheme="https://shizhonghai.github.io/tags/pm2/"/>
    
  </entry>
  
  <entry>
    <title>Webpack ä¼˜åŒ–æ€»ä¼šè®©ä½ ä¸å¾—ä¸çˆ±</title>
    <link href="https://shizhonghai.github.io/2020/03/02/webpack-optimization/"/>
    <id>https://shizhonghai.github.io/2020/03/02/webpack-optimization/</id>
    <published>2020-03-01T16:00:00.000Z</published>
    <updated>2020-03-03T05:59:53.951Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŠ æ²¹"><a href="#åŠ æ²¹" class="headerlink" title="åŠ æ²¹"></a>åŠ æ²¹</h2><p>åœ¨å®¶çš„æ—¥å­ä¸èƒ½å‡ºå»ç©ï¼Œä¸èƒ½å‡ºå»åƒï¼Œçš„ç¡®æ˜¯å¾ˆä¸å¼€å¿ƒçš„ï¼Œä¸è¿‡ä¹Ÿæ˜¯çœŸçš„å¢åŠ äº†å¥½å¤šç©ºé—²æ—¶é—´</p>
<p>ä¸å…¶åœ¨å®¶å‘†ç€æ— èŠï¼Œä¸å¦‚å®‰å®‰é™é™çš„å­¦ä¹ ä¸€ä¸‹</p>
<p>ç–«æƒ…æœŸé—´ï¼Œä¸ç®¡æ€æ ·ï¼Œå¿ƒæ€ä¸èƒ½å´©ï¼Œæ­¦æ±‰åŠ æ²¹ï¼Œä¸­å›½åŠ æ²¹</p>
<p>é—²è¨€å°‘å™ï¼Œç°åœ¨æˆ‘ä»¬å°±å¼€å§‹ä¸€èµ·å­¦ä¹ å§</p>
<h2 id="ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯"><a href="#ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯" class="headerlink" title="ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯"></a>ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯</h2><p><strong>ä¼˜åŒ–</strong>ï¼Œå°±æ˜¯åŠ ä»¥æ”¹å˜æˆ–é€‰æ‹©ä½¿ä¼˜è‰¯ï¼Œåœ¨å·¥ä½œå½“ä¸­æ˜¯è®©æå‡æ•ˆç‡çš„å¥½åŠæ³•ã€‚<br>å½“ç„¶ï¼Œwebpack ä¼˜åŒ–åƒåƒä¸‡ï¼Œä½†æˆ‘è§‰å¾—è¿™äº›å°±å¤Ÿäº†<br>é¦–å½“å…¶å†²çš„ï¼Œå°±æ˜¯å·¥ä½œä¸­é‚£äº›ç”¨ä¸åˆ°çš„æ ·å¼ï¼Œå¯èƒ½æ˜¯ç”±äºå†å²é—ç•™åŸå› å·²ç»å¿˜è®°å“ªäº›æ˜¯æ²¡æœ‰ä½¿ç”¨çš„æ ·å¼äº†ï¼Œä¸€ä¸€æ’æŸ¥å¤ªè¿‡è€—æ—¶è´¹åŠ›äº†<br>äºæ˜¯ï¼Œ<code>purgecss-webpack-plugin</code> å’Œ <code>glob</code> å®ƒä¿©å°±ç™»åœºäº†ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å§<br>æ’ä»¶åƒä¸‡ä¸ªï¼Œå®‰è£…ç¬¬ä¸€æ­¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i purgecss-webpack-plugin glob -D</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="å»é™¤æ— ç”¨çš„æ ·å¼"><a href="#å»é™¤æ— ç”¨çš„æ ·å¼" class="headerlink" title="å»é™¤æ— ç”¨çš„æ ·å¼"></a>å»é™¤æ— ç”¨çš„æ ·å¼</h3><p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œè£…å¤‡å¥½äº†ï¼Œæˆ‘ä»¬ä¹Ÿæ¥çœ‹ä¸€çœ¼å®é™…çš„æƒ…å†µï¼Œç„¶åå†è¿›è¡Œæœ‰æ•ˆçš„é…ç½®å§<br><img src="/images/webpack-01.jpg" alt="webpack é…ç½®" title="webpack é…ç½®"><br>ä¸Šå›¾ä¸­å°±æœ‰ä¸€ä¸ªæ²¡æœ‰è¢«ä½¿ç”¨åˆ°çš„ç±»ålogoï¼Œæ‰€ä»¥å¦‚æœåœ¨æ‰“åŒ…æŠ½ç¦»å‡ºæ¥çš„cssæ–‡ä»¶é‡Œï¼Œè‚¯å®šæ˜¯ä¸å¸Œæœ›çœ‹åˆ°å®ƒçš„<br>é‚£ä¹ˆï¼Œä¸åºŸè¯ï¼Œè§£å†³å®ƒï¼Œæˆ‘ä»¬å¼€å§‹é…ç½®å§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// htmlæ¨¡æ¿</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="comment">// ä»jsä¸­æŠ½ç¦»å‡ºcss</span></span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å»é™¤æ— ç”¨çš„æ ·å¼</span></span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">'glob'</span>);</span><br><span class="line"><span class="keyword">const</span> PurgecssWebpackPlugin = <span class="built_in">require</span>(<span class="string">'purgecss-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">        path: path.resolve(<span class="string">'dist'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">'babel-loader'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;   </span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: [MiniCssExtractPlugin.loader, <span class="string">'css-loader'</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpaclPlugin(&#123;</span><br><span class="line">            template: <span class="string">'./src/index.html'</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> MiniCssExtractPlugin(),</span><br><span class="line">        <span class="comment">// å»é™¤æ— ç”¨çš„æ ·å¼</span></span><br><span class="line">        <span class="keyword">new</span> PurgecssWebpackPlugin(&#123;</span><br><span class="line">            paths: glob.sync(<span class="string">'./src/**/*'</span>, &#123;<span class="attr">nodir</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é…ç½®å®Œæ¯•äº†ï¼Œä¸Šé¢åŒ…å«äº†ä¸€äº›åŸºæœ¬çš„é…ç½®ã€‚å¤§å®¶å¯ä»¥æŠŠé‡ç‚¹æ”¾åœ¨<strong>æ³¨é‡Šä¸ºå»é™¤æ— ç”¨çš„æ ·å¼</strong>ä»£ç éƒ¨åˆ†å³å¯äº†</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥ç®€å•åˆ†æåˆ†æï¼š</p>
<ul>
<li><p>globæ˜¯ç”¨æ¥æŸ¥æ‰¾æ–‡ä»¶çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">glob.sync(<span class="string">'./src/**/*'</span>, &#123;<span class="attr">nodir</span>: <span class="literal">true</span>&#125;</span><br><span class="line"><span class="comment">// åŒæ­¥æŸ¥æ‰¾srcç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶å¤¹ä¸‹çš„ä»»æ„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚['çœŸå®è·¯å¾„/src/css/style.css','çœŸå®è·¯å¾„/src/index.js',...]</span></span><br><span class="line"><span class="comment">// &#123;nodir: true&#125;è¡¨ç¤ºä¸åŒ…å«æ–‡ä»¶å¤¹ï¼ŒåŠ å¿«æŸ¥æ‰¾é€Ÿåº¦</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>purgecss-webpack-pluginæ˜¯å»é™¤æ— ç”¨çš„css</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> PurgecssWebpackPlugin(&#123;</span><br><span class="line">    <span class="comment">// pathsè¡¨ç¤ºæŒ‡å®šè¦å»è§£æçš„æ–‡ä»¶åæ•°ç»„è·¯å¾„</span></span><br><span class="line">    <span class="comment">// Purgecssä¼šå»è§£æè¿™äº›æ–‡ä»¶ç„¶åæŠŠæ— ç”¨çš„æ ·å¼ç§»é™¤</span></span><br><span class="line">    paths: glob.sync(<span class="string">'./src/**/*'</span>, &#123;<span class="attr">nodir</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/images/webpack-02.jpg" alt="webpack é…ç½®2" title="webpack é…ç½®2"></p>
<p>å¤§åŠŸå‘Šæˆï¼Œè¿›å…¥ä¸‹ä¸€ç¯èŠ‚ï¼ï¼ï¼</p>
<h3 id="åŠ¨æ€æ·»åŠ CDN"><a href="#åŠ¨æ€æ·»åŠ CDN" class="headerlink" title="åŠ¨æ€æ·»åŠ CDN"></a>åŠ¨æ€æ·»åŠ CDN</h3><p>åœ¨ <code>html</code> æ–‡ä»¶ä¸­å¼•å…¥cdnæ–‡ä»¶ï¼Œåœ¨ webpack é…ç½® <code>externals</code>ï¼Œè¿™æ ·å°±ä¸ä¼šæ‰“åŒ…å¼•å…¥çš„cdnçš„åº“</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.htmlæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">"root"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥jqueryçš„cdn --&gt;</span><br><span class="line">    &lt;script src=<span class="string">"https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">module.exports = &#123;</span></span><br><span class="line"><span class="regexp">    externals: &#123;</span></span><br><span class="line"><span class="regexp">        'jquery': '$'</span></span><br><span class="line"><span class="regexp">    &#125;   </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å†™å®Œåï¼Œåœ¨jsæ–‡ä»¶ä¸­æˆ‘ä»¬å°±å¯ä»¥ä¸ç”¨å†å¯¼å…¥jqueryä¹Ÿèƒ½ç›´æ¥ä½¿ç”¨$æ“ä½œç¬¦äº†<br>Butï¼Œè¿™åªæ˜¯ä¸ªè¿‡æ¸¡è€Œå·²ï¼Œä¸‹é¢æœ‰è¯·ä¸»è§’ç™»åœº<br>ç”±äºæ¯æ¬¡éƒ½éœ€è¦åœ¨index.htmlæ¨¡æ¿ä¸­æ‰‹åŠ¨å¼•å…¥éœ€è¦çš„cdnæ–‡ä»¶ï¼Œç„¶åè¿˜è¦åœ¨webpacké‡Œé…ç½®ï¼Œæœ‰ç‚¹ç¹çäº†<br>Soï¼Œ <code>html-webpack-externals-plugin</code> è¿™æ ·çš„æ’ä»¶å°±åº”è¿è€Œç”Ÿäº†<br>å®‰è£…æ­¥éª¤æˆ‘å°±ç•¥è¿‡äº†ï¼Œç›´æ¥çœ‹ä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ¨æ€æ·»åŠ CDN</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackExternalsPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-externals-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackExternalsPlugin(&#123;</span><br><span class="line">            externals: [</span><br><span class="line">                &#123;   <span class="comment">// å¼•å…¥çš„æ¨¡å—</span></span><br><span class="line">                    <span class="built_in">module</span>: <span class="string">'jquery'</span>,</span><br><span class="line">                    <span class="comment">// cdnçš„åœ°å€</span></span><br><span class="line">                    entry: <span class="string">'https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js'</span>,</span><br><span class="line">                    <span class="comment">// æŒ‚è½½åˆ°äº†windowä¸Šçš„åç§°</span></span><br><span class="line">                    <span class="comment">// window.jQueryå°±å¯ä»¥å…¨å±€ä½¿ç”¨</span></span><br><span class="line">                    global: <span class="string">'jQuery'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">module</span>: <span class="string">'vue'</span>,</span><br><span class="line">                    entry: <span class="string">'https://cdn.bootcss.com/vue/2.6.10/vue.min.js'</span>,</span><br><span class="line">                    global: <span class="string">'Vue'</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><img src="/images/webpack-03.jpg" alt="webpack é…ç½®3" title="webpack é…ç½®3"></p>
<h3 id="Tree-shaking"><a href="#Tree-shaking" class="headerlink" title="Tree-shaking"></a>Tree-shaking</h3><p>è¿™æ˜¯ä¸€ä¸ªwebpackå†…ç½®çš„ä¼˜åŒ–èƒ½åŠ›ï¼Œwebpackå¾ˆå¥½å¾ˆå¼ºå¤§ï¼Œå“ˆå“ˆ<br>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒTree-shakingä¼šè¿›è¡Œè‡ªåŠ¨åˆ é™¤çš„æ“ä½œ<br>å¦‚æœé€šè¿‡ES6çš„importå¼•ç”¨çš„æ–¹å¼å°±ä¼šæŠŠæ²¡æœ‰ç”¨åˆ°çš„ä»£ç ç»™åˆ é™¤æ‰<br>é‚£ä¹ˆåœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œå°±ä¸ä¼šæ‰“åŒ…é‚£äº›æœªå¼•ç”¨çš„æ–¹æ³•äº†<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸ªæ —å­ï¼š<br>åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªcommon.jsï¼Œç„¶ååœ¨é‡Œé¢éšä¾¿å†™ç‚¹ä¸œä¸œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/common.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> flatten = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'my-flatten'</span>);</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">all, cur</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(cur) &#123;</span><br><span class="line">            <span class="keyword">return</span> [...all, ...flatten(cur)];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> [...all, cur];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, []);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> myBind = <span class="function">(<span class="params">fn, context</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'my-bind'</span>);</span><br><span class="line">    <span class="keyword">let</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> newArgs = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">        fn.apply(context, args.concat(newArgs));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>import</code> å¼•ç”¨ä¸€ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; flatten &#125; <span class="keyword">from</span> <span class="string">'./common'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,[<span class="number">3</span>,[<span class="number">4</span>, <span class="number">5</span>]], [<span class="number">2</span>, [<span class="number">20</span>]]];</span><br><span class="line"><span class="built_in">console</span>.log(flatten(arr));</span><br></pre></td></tr></table></figure>
<p><img src="/images/webpack-04.jpg" alt="webpack é…ç½®4" title="webpack é…ç½®4"><br>å› ä¸ºåªåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æœ‰æ•ˆæœï¼Œå¯ä»¥å»distæ–‡ä»¶ä¸­æ£€æŸ¥ä¸€ä¸‹ï¼Œæ˜¯æ²¡æœ‰ <code>console.log(&#39;my-bind&#39;)</code> çš„ä»£ç çš„ï¼Œè¿™å°±è¯´æ˜å®Œç¾çš„å»æ‰äº†æ²¡æœ‰å¼•ç”¨åˆ°çš„ä»£ç äº†<br>å®Œç¾ï¼Œå®Œç¾ï¼Œå®Œç¾äº†</p>
<p>é«˜å…´çš„å¤ªæ—©äº†ï¼Œæ˜¯è¯ä¸‰åˆ†æ¯’ï¼Œæœ‰å‰¯ä½œç”¨çš„</p>
<p><strong>å‰¯ä½œç”¨</strong></p>
<p>ç°åœ¨æˆ‘ä»¬åœ¨srcç›®å½•å†åˆ›å»ºä¸€ä¸ªtest.jsæ–‡ä»¶ï¼Œè®©å¤§å®¶å†æ„Ÿå—ä¸€ä¸‹å‰¯ä½œç”¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/test.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'test'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ï¼Œç®€å•ä¿®æ”¹ä¸€ä¸‹index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; flatten &#125; <span class="keyword">from</span> <span class="string">'./common'</span>;</span><br><span class="line"><span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">'./test'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,[<span class="number">3</span>,[<span class="number">4</span>, <span class="number">5</span>]], [<span class="number">2</span>, [<span class="number">20</span>]]];</span><br><span class="line"><span class="built_in">console</span>.log(flatten(arr));</span><br></pre></td></tr></table></figure>
<p>å°½ç®¡å¼•å…¥äº†testä½†æ˜¯å¹¶æ²¡æœ‰ä½¿ç”¨ï¼Œå¯æ˜¯æ‰“åŒ…åçš„bundle.jsæ–‡ä»¶å´å˜åŒ–äº†ï¼Œè¯·çœ‹å¤§å±å¹•<br><img src="/images/webpack-05.jpg" alt="webpack é…ç½®5" title="webpack é…ç½®5"></p>
<p>å¯æƒ³è€ŒçŸ¥ï¼Œ<strong>å‰¯ä½œç”¨</strong>å‡ºç°äº†ï¼Œå»distç›®å½•ä¸‹å†çœ‹çœ‹bundle.jsçš„å†…å®¹ï¼Œå‘ç°äº†æ‰“å°testå­—æ®µçš„ä»£ç ã€‚<br>è‚¿ä¹ˆåŠï¼Ÿæ²¡å¼•ç”¨å´æ‰“åŒ…è¿›å»äº†ï¼Œè¡¨æ…Œï¼Œè®©æˆ‘ä»¬æ¥å°†æ–‡ä»¶æ ‡è®°ä¸ºæ— å‰¯ä½œç”¨çš„<br>å¹²æ‰å‰¯ä½œç”¨<br>éœ€è¦é…åˆ <code>package.json</code> æ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ ä¸€ä¸ª <code>sideEffects</code> å±æ€§ï¼Œèµ‹å€¼ä¸º <code>false</code> å°±æŠŠè¿™äº›<strong>å‰¯ä½œç”¨</strong>ç»™å¹²æ‰äº†ä¸ä¼šå†æ‰“åŒ…è¿›å»äº†ï¼ŒSo Easy</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.jsonæ–‡ä»¶</span></span><br><span class="line">&#123;</span><br><span class="line">    ...çœç•¥</span><br><span class="line">    <span class="string">"sideEffects"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/webpack-06.jpg" alt="webpack é…ç½®6" title="webpack é…ç½®6"></p>
<p>ä¸è¿‡è²Œä¼¼ï¼Œæ²¡æœ‰çœ‹åˆ°æ‰“åŒ…å‡ºæ¥çš„cssæ–‡ä»¶å‘¢ï¼Œå›å¤´çœ‹ä¹‹å‰çš„æˆªå›¾ï¼Œæ˜¯æ‰“åŒ…å‡º3ä¸ªæ–‡ä»¶çš„ï¼Œå…¶ä¸­å°±åŒ…æ‹¬ main.css<br>CSSå»å“ªå„¿äº†ï¼Ÿ<br>å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨jsä¸­å¼•å…¥cssæ–‡ä»¶æ˜¯ <code>import &#39;./style.css&#39;</code> è¿™æ ·ï¼Œæ‰€ä»¥å°±å‡ºç°äº†å‰¯ä½œç”¨ï¼Œå¼•ç”¨å´æ²¡ä½¿ç”¨çš„å°´å°¬<br>ä¹Ÿæ˜¯å› ä¸º <code>sideEffects: false</code> ä¸€è‚¡è„‘çš„å…¨ç»™æ ‡è®°è¿‡æ»¤æ‰äº†<br>ç°åœ¨ä¿®æ”¹ä¸€ä¸‹ <code>sideEffects</code> çš„å€¼å°±å¯ä»¥ï¼Œç»™å®ƒä¸€ä¸ªå»é™¤å‰¯ä½œç”¨çš„èŒƒå›´</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.jsonæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    ...çœç•¥</span><br><span class="line">    <span class="string">"sideEffects"</span>: [<span class="string">"./src/**/*.css"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿‡æ»¤æ‰å¼•å…¥çš„cssæ–‡ä»¶äº§ç”Ÿçš„å‰¯ä½œç”¨ï¼Œè¿™æ ·èµ°ä¸¢çš„cssæ–‡ä»¶å°±åˆæ‰¾å›æ¥äº†<br><img src="/images/webpack-07.jpg" alt="webpack é…ç½®7" title="webpack é…ç½®7"><br>è‡³æ­¤ï¼Œwebpackå†…ç½®çš„Tree-shakingå°±è¯´å®Œäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæœ‰æ„æ€ï¼Œwebpackå¤§æ³•å¥½<br>ä¸‹é¢ä¸€é¼“ä½œæ°”ç»§ç»­è¯´ä¸ªå†…ç½®çš„æ’ä»¶ï¼Œéå¸¸å®ç”¨ï¼Œcome on baby</p>
<h3 id="DllPluginåŠ¨æ€é“¾æ¥åº“"><a href="#DllPluginåŠ¨æ€é“¾æ¥åº“" class="headerlink" title="DllPluginåŠ¨æ€é“¾æ¥åº“"></a>DllPluginåŠ¨æ€é“¾æ¥åº“</h3><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨å¼€å‘æ—¶æ— è®ºæ˜¯ç”¨Reactè¿˜æ˜¯Vueï¼Œæˆ‘ä»¬éƒ½ä¸å¸Œæœ›è¿™ä¸ªå¼€å‘çš„ä¸»åŠ›æ¡†æ¶æ¯æ¬¡éƒ½è¢«æ‰“åŒ…ä¸€éï¼Œè¿™æ ·ä¹Ÿæ˜¯è´¹æ—¶è´¹åŠ›çš„äº‹æƒ…<br>æ‰€ä»¥ï¼Œå‡ºç°äº†DllPluginè¿™ç§æ’ä»¶ï¼Œå®ƒçº¯å±webpackå†…ç½®çš„ï¼Œæ”¾å¿ƒå¤§èƒ†çš„ç”¨<br>ä½œç”¨ï¼š</p>
<p>åœ¨ç¬¬ä¸€æ¬¡æ‰“åŒ…çš„æ—¶å€™å°±æŠŠæ‰“åŒ…ç”¨åˆ°çš„å¼€å‘æ¡†æ¶ç›´æ¥æ‰“åŒ…å¥½ï¼Œç„¶åä¼šç”Ÿæˆä¸€ä¸ª <code>manifest.json</code> æ–‡ä»¶<br>å†æ‰“åŒ…çš„æ—¶å€™ï¼Œåªè¦æœ‰ <code>import React from &#39;react&#39;</code> è¿™æ ·çš„å¼•ç”¨ï¼Œå®ƒå°±ä¼šå…ˆå»æ‰€è°“çš„ç¼“å­˜æ–‡ä»¶é‡Œæ‰¾ï¼Œæ‰¾åˆ°äº†å°±ç›´æ¥ç”¨ï¼Œä¹Ÿä¸ç”¨å†è¿›è¡Œå¯¹reactæ‰“åŒ…äº†<br>å½“ç„¶ï¼Œå¦‚æœæ²¡æ‰¾åˆ°çš„è¯ï¼Œå†å¯¹æ¡†æ¶æ‰“åŒ…ä¸€éä¹Ÿæ— ä¼¤å¤§é›…</p>
<p>è¯´å¤šäº†ï¼Œéƒ½æ˜¯æ³ªï¼Œçœ‹ä»£ç æ›´å®åœ¨ï¼Œé‡å†™index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span>;</span><br><span class="line"></span><br><span class="line">render(&lt;React.Fragment&gt;</span><br><span class="line">    &lt;h1 className="title"&gt;å¬å¦ˆå¦ˆçš„è¯-å‘¨æ°ä¼¦&lt;/h1&gt;</span><br><span class="line">    &lt;button className="btn"&gt;æ˜¾ç¤ºæ­Œè¯&lt;/button&gt;</span><br><span class="line">&lt;/React.Fragment&gt;, window.root);</span><br></pre></td></tr></table></figure>
<p>æŠŠindex.jsé‡å†™åæˆ‘ä»¬å†æ¥npm run buildæ‰“åŒ…ä¸€ä¸‹çœ‹çœ‹<br><img src="/images/webpack-08.jpg" alt="webpack é…ç½®8" title="webpack é…ç½®8"></p>
<p>ä½†æ˜¯è¿™å¾ˆä¸ç§‘å­¦ï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™æ²¡æœ‰å¿…è¦æŠŠå¼€å‘æ¡†æ¶ä¹Ÿæ‰“åŒ…åˆ°æˆ‘ä»¬å†™çš„é€»è¾‘ä»£ç ä¸­<br>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹DllPluginä¼šå¸®æˆ‘ä»¬æ€ä¹ˆå¤„ç†å§</p>
<h4 id="åˆ›å»ºåŠ¨æ€é“¾æ¥åº“"><a href="#åˆ›å»ºåŠ¨æ€é“¾æ¥åº“" class="headerlink" title="åˆ›å»ºåŠ¨æ€é“¾æ¥åº“"></a>åˆ›å»ºåŠ¨æ€é“¾æ¥åº“</h4><p>åœ¨<strong>æ ¹ç›®å½•ä¸‹</strong>åˆ›å»ºä¸€ä¸ª <code>webpack.dll.js</code> æ–‡ä»¶ï¼Œç”¨æ¥æ‰“åŒ…å‡ºdllæ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.dll.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥webpack</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: [<span class="string">'react'</span>, <span class="string">'react-dom'</span>],</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'react.dll.js'</span>,</span><br><span class="line">        path: path.resolve(<span class="string">'dll'</span>),</span><br><span class="line">        library: <span class="string">'react'</span>    <span class="comment">// æ‰“åŒ…åè¢«å¼•ç”¨çš„å˜é‡å</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// åŠ¨æ€é“¾æ¥åº“</span></span><br><span class="line">        <span class="keyword">new</span> webpack.DllPlugin(&#123;</span><br><span class="line">            name: <span class="string">'react'</span>,</span><br><span class="line">            path: path.resolve(<span class="string">'dll'</span>, <span class="string">'manifest.json'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä»£ç å†™å®Œäº†ï¼Œ<code>npm run dll</code>ï¼Œä¹‹åä¼šå‡ºç°ä¸€ä¸ªdllçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šåŒ…å«ä½ æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾<br><img src="/images/webpack-09.jpg" alt="webpack é…ç½®9" title="webpack é…ç½®9"><br>æ‰“åŒ…å®Œæˆåï¼Œæ¥ä¸‹æ¥è½®åˆ°æˆ‘ä»¬å¼•ç”¨çš„æ—¶åˆ»åˆ°äº†</p>
<h4 id="å¼•ç”¨åŠ¨æ€é“¾æ¥åº“"><a href="#å¼•ç”¨åŠ¨æ€é“¾æ¥åº“" class="headerlink" title="å¼•ç”¨åŠ¨æ€é“¾æ¥åº“"></a>å¼•ç”¨åŠ¨æ€é“¾æ¥åº“</h4><p>å›åˆ°æˆ‘ä»¬çš„ä¸»æˆ˜åœºwebpack.config.jsä¸­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥webpack</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// å¼•ç”¨å¯¹åº”çš„åŠ¨æ€é“¾æ¥åº“çš„manifest.jsonæ–‡ä»¶</span></span><br><span class="line">        <span class="comment">// è¿™æ ·ä»¥åå†å¼•å…¥reactçš„æ—¶å€™å°±ä¼šä¼˜å…ˆåœ¨jsonæ–‡ä»¶é‡Œå»å¯»æ‰¾</span></span><br><span class="line">        <span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">            manifest: path.resolve(<span class="string">'dll'</span>, <span class="string">'manifest.json'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å†™åˆ°è¿™é‡Œè¿˜ä¸ç®—å®Œï¼Œè¿˜éœ€è¦åœ¨srcç›®å½•ä¸‹çš„index.htmlæ¨¡æ¿ä¸­å¼•å…¥ä¸€ä¸‹<br><code>&lt;script src=&quot;../dll/react.dll.js&quot;&gt;&lt;/script&gt;</code><br>æ’ä¸€å¥ï¼šä¹‹æ‰€ä»¥ï¼Œä¼šæ–°å»ºä¸€ä¸ªdllç›®å½•ï¼Œå› ä¸ºåœ¨ <code>npm run dev</code> å¼€å‘ç¯å¢ƒç¼–è¯‘çš„æ—¶å€™ï¼Œdistç›®å½•çš„å†…å®¹éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ˜¯æ‰¾ä¸åˆ°react.dll.jsæ–‡ä»¶çš„<br>å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹æ•ˆæœå§ï¼Œ<code>npm run dev</code> å¯åŠ¨ä¸€ä¸‹<br><img src="/images/webpack-10.jpg" alt="webpack é…ç½®10" title="webpack é…ç½®10"></p>
<p>å½“ç„¶ï¼Œä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œå¦‚æœéœ€è¦å¼•å…¥çš„æ–‡ä»¶æ¯”è¾ƒå¤šæ€ä¹ˆåŠï¼Ÿ<br>æ¯æ¬¡åœ¨index.htmlä¸­æ‰‹åŠ¨å¼•å…¥æ¯•ç«Ÿä¸æ˜¯é•¿ä¹…ä¹‹è®¡ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å†çœ‹ä¸€ä¸ªå¥½ä¸œä¸œ</p>
<h4 id="åŠ¨æ€å¼•å…¥js"><a href="#åŠ¨æ€å¼•å…¥js" class="headerlink" title="åŠ¨æ€å¼•å…¥js"></a>åŠ¨æ€å¼•å…¥js</h4><p>é€šè¿‡ <code>add-asset-html-webpack-plugin</code> æ’ä»¶å°±å¯ä»¥å®Œæˆè¿™æ ·çš„éœ€æ±‚ï¼Œæ¥çœ‹ä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"><span class="comment">// æ·»åŠ èµ„æºåˆ°htmlæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> AddAssetHtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'add-asset-html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// å¼•ç”¨æ‰“åŒ…å¥½çš„reactï¼Œä¸ä¼šæ‰“åŒ…åˆ°bundleé‡Œ</span></span><br><span class="line">        <span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">            manifest: path.resolve(<span class="string">'dll'</span>, <span class="string">'manifest.json'</span>)</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="comment">// ç›´æ¥å°†æ‰“åŒ…å¥½çš„react.dll.jsæ·»åŠ åˆ°htmlæ¨¡æ¿</span></span><br><span class="line">        <span class="keyword">new</span> AddAssetHtmlWebpackPlugin(&#123;</span><br><span class="line">            filepath: path.resolve(<span class="string">'dll'</span>, <span class="string">'react.dll.js'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šé¢çš„æ”¹é€ åï¼Œå°±åŠ¨æ€çš„æŠŠreact.dll.jsæ–‡ä»¶æ·»åŠ åˆ°htmlæ–‡ä»¶ä¸­äº†ã€‚</p>
<p>æˆ‘ä»¬ä¹‹å‰åœ¨index.htmlæ¨¡æ¿é‡Œæ‰‹åŠ¨å¼•å…¥jsçš„é‚£ä¸€è¡Œå°±å¯ä»¥åˆ é™¤æ‰äº†</p>
<h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h3><p>è¯´åˆ°æ‡’åŠ è½½å¿…ç„¶æ˜¯ä¸€ç§å¾ˆå¥½çš„ä¼˜åŒ–ç½‘é¡µæˆ–åº”ç”¨çš„æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨webpackä¸­ä¹Ÿæ˜¯é€šè¿‡ES6çš„ <code>import()</code> è¯­æ³•æ¥å¼•å…¥çš„ã€‚<br>è™½ç„¶è¿™ä¸ª <code>import()</code> è¯­æ³•ç›®å‰è¿˜å¤„åœ¨è‰æ¡ˆçš„ç¬¬ä¸‰é˜¶æ®µï¼Œä¸è¿‡å¹¶ä¸å½±å“å¤§å®¶å¯¹å®ƒçš„ä¸€è‡´å¥½è¯„<br>ç”¨è¿‡Vue-Routerçš„åŒå­¦éƒ½çŸ¥é“ï¼Œå¤§å®¶å†™çš„è·¯ç”±é€šè¿‡ <code>component: () =&gt; import()</code> çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œæ‡’åŠ è½½çš„<br>Soï¼Œå¥½é¥­ä¸æ€•æ™šï¼Œæ—©æ™šä¼šæˆä¸ºæ­£å¼ä¸€å‘˜çš„ã€‚ä¸‹é¢è¿˜æ˜¯ç”¨å®é™…æ —å­æ¼”ç¤ºä¸€ä¸‹å§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span>;</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™ä¸ªè¾…åŠ©çš„ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Music</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.state = &#123; <span class="attr">lrc</span>: [] &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    showLrc() &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡ES6çš„import()æ–¹æ³•å®ç°äº†æ‡’åŠ è½½åŠŸèƒ½ï¼Œå®é™…ä¸Šæ˜¯åˆ©ç”¨äº†jsonpå»åŠ¨æ€å¯¼å…¥äº†</span></span><br><span class="line">        <span class="keyword">import</span>(<span class="string">'./lrc'</span>).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> lrc = data.default.split(<span class="string">'\n'</span>).filter(<span class="function"><span class="params">item</span> =&gt;</span> item !== <span class="string">''</span>);</span><br><span class="line">            <span class="keyword">this</span>.setState(&#123; lrc &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;button className=<span class="string">"btn"</span> onClick=&#123;() =&gt; <span class="keyword">this</span>.showLrc()&#125;&gt;æ˜¾ç¤ºæ­Œè¯&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">                &lt;div className="lrc-box"&gt;</span></span><br><span class="line"><span class="regexp">                    &#123;this.state.lrc &amp;&amp; this.state.lrc.map((item, index) =&gt; (</span></span><br><span class="line"><span class="regexp">                        &lt;p className="lrc" key=&#123;index&#125;&gt;&#123;item&#125;&lt;/</span>p&gt;</span><br><span class="line">                    ))&#125;</span><br><span class="line">                &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;      </span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render(&lt;React.Fragment&gt;</span><br><span class="line">    &lt;h1 className="title"&gt;å¬å¦ˆå¦ˆçš„è¯-å‘¨æ°ä¼¦&lt;/h1&gt;</span><br><span class="line">    &lt;Music&gt;&lt;/Music&gt;</span><br><span class="line">&lt;/React.Fragment&gt;, window.root);</span><br></pre></td></tr></table></figure>
<p><code>npm run dev</code> è®©æˆ‘ä»¬çœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰äº†æ‡’åŠ è½½çš„æ•ˆæœ<br><img src="/images/webpack-11.gif" alt="webpack é…ç½®11" title="webpack é…ç½®11"><br>é€šè¿‡ä¸Šé¢çš„gifå›¾å¯ä»¥çœ‹åˆ°ï¼Œå½“ç‚¹å‡»æ˜¾ç¤ºæ­Œè¯çš„æ—¶å€™ï¼ŒåŠ è½½äº†ä¸€ä¸ª0.bundle.jsæ–‡ä»¶<br>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬é€šè¿‡æ‡’åŠ è½½å¯¼å…¥çš„lrc.jsæ–‡ä»¶ï¼Œç”±æ­¤å¯è§ï¼Œæ‡’åŠ è½½åŠŸèƒ½éªŒè¯æˆåŠŸï¼Œæ’’èŠ±</p>
<p>æ¥ä¸‹æ¥å†æ¥ä¸ªè€ç”Ÿå¸¸è°ˆçš„ä¼˜åŒ–ï¼Œè¯·ç»§ç»­å¾€ä¸‹çœ‹ï¼Œä¸è¦åœ</p>
<h3 id="æŠ½å–å…¬å…±ä»£ç "><a href="#æŠ½å–å…¬å…±ä»£ç " class="headerlink" title="æŠ½å–å…¬å…±ä»£ç "></a>æŠ½å–å…¬å…±ä»£ç </h3><p>å¼€å‘çš„æ—¶å€™ï¼Œç»å¸¸ä¼šæœ‰ä¸åŒçš„æ¨¡å—å¼•ç”¨äº†åŒä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…ã€‚<br>è¿™é‡Œä¸¾ä¸ªæ —å­ï¼Œæ¯”å¦‚æœ‰ä¸¤ä¸ªjsæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯index.jså¦ä¸€ä¸ªæ˜¯lrc.jsï¼Œå®ƒä»¬éƒ½å¼•ç”¨äº†è‘—åçš„å®ç”¨å·¥å…·åº“lodashï¼Œä»£ç å¦‚ä¸‹ä¸‹ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">'lodash'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(_.xor([<span class="number">2</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>]));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// lrc.jsæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">'lodash'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(_.flatten([<span class="number">1</span>,[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, [<span class="number">2</span>]]]));</span><br></pre></td></tr></table></figure>
<p>çœ‹å®Œä»¥ä¸Šä»£ç å°±æ˜ç™½äº†ï¼Œä»–ä»¬çš„å…¬å…±éƒ¨åˆ†å°±æ˜¯éƒ½å¼•äº†lodashï¼Œè¿™æ ·ä¼šåˆ†åˆ«æ‰“åŒ…åˆ°ä»–ä»¬æ‰€åœ¨çš„æ–‡ä»¶ä¸­å»ï¼Œè¿™æ ·æ‰“åŒ…çš„jsæ–‡ä»¶å°±ä¼šå¾ˆå¤§äº†</p>
<p>æ‰€ä»¥ï¼Œå¿…é¡»å¾—æŠŠlodashæå–å‡ºæ¥ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œçœ‹æ‹›</p>
<h4 id="æŠ½å–ç¬¬ä¸‰æ–¹æ¨¡å—"><a href="#æŠ½å–ç¬¬ä¸‰æ–¹æ¨¡å—" class="headerlink" title="æŠ½å–ç¬¬ä¸‰æ–¹æ¨¡å—"></a>æŠ½å–ç¬¬ä¸‰æ–¹æ¨¡å—</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    optimization: &#123;</span><br><span class="line">        splitChunks: &#123;</span><br><span class="line">            cacheGroups: &#123;</span><br><span class="line">                vendor: &#123;</span><br><span class="line">                    chunks: <span class="string">'initial'</span>,</span><br><span class="line">                    minSize: <span class="number">0</span>,</span><br><span class="line">                    minChunks: <span class="number">2</span>,</span><br><span class="line">                    test: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                    priority: <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>webpack4ä¸­è‡ªå¸¦äº†æŠ½å–å…¬å…±ä»£ç çš„æ–¹æ³•ï¼Œé€šè¿‡optimizationé‡Œçš„splitChunksæ¥åšåˆ°<br><img src="/images/webpack-12.jpg" alt="webpack é…ç½®12" title="webpack é…ç½®12"><br>æŠ½ç¦»ç¬¬ä¸‰æ–¹æ¨¡å—æœ‰ä¸¤ç‚¹å¥½å¤„</p>
<ul>
<li>ä¸ä¼šå’Œä¸šåŠ¡é€»è¾‘æ‰“åŒ…åœ¨ä¸€èµ·</li>
<li>å¢åŠ ç¼“å­˜ 304</li>
</ul>
<h4 id="æŠ½å–å…¬å…±æ¨¡å—"><a href="#æŠ½å–å…¬å…±æ¨¡å—" class="headerlink" title="æŠ½å–å…¬å…±æ¨¡å—"></a>æŠ½å–å…¬å…±æ¨¡å—</h4><p>å½“ç„¶äº†ï¼Œé¡¹ç›®ä¸­å¾ˆå¤šjsæ–‡ä»¶ä¸ä»…ä»…ä¼šå¼•ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—æ¥å¼€å‘ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä½¿ç”¨å†™å¥½çš„å…¬å…±æ¨¡å—ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æå–å‡ºæ¥å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; flatten &#125; <span class="keyword">from</span> <span class="string">'./common'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'index'</span>,flatten([<span class="number">1</span>,[<span class="number">33</span>, <span class="number">4</span>, <span class="number">5</span>, [<span class="number">34</span>]]]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// lrc.jsæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;flatten&#125; <span class="keyword">from</span> <span class="string">'./common'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(flatten([<span class="number">1</span>,[<span class="number">33</span>, <span class="number">4</span>, <span class="number">5</span>, [<span class="number">34</span>]]]));</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢åœ¨ä¸¤ä¸ªjsæ–‡ä»¶ä¸­éƒ½å¼•å…¥äº†common.jsä¸­å†™å¥½çš„flattenæ–¹æ³•ï¼Œæ—¢ç„¶å®ƒä»¬éƒ½å¼•ç”¨åˆ°äº†common.jsï¼Œæ‰€ä»¥æƒ³å½“ç„¶çš„ä¹Ÿå¯ä»¥æŠŠå®ƒæŠ½å–å‡ºæ¥çš„</p>
<p>é‚£ä¹ˆå‚ç…§æå–ç¬¬ä¸‰æ–¹ä»£ç çš„å®ç°æ¥å†™ä¸€ä¸‹å§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    optimization: &#123;</span><br><span class="line">        splitChunks: &#123;</span><br><span class="line">            cacheGroups: &#123;</span><br><span class="line">                utils: &#123;</span><br><span class="line">                    chunks: <span class="string">'initial'</span>,</span><br><span class="line">                    minSize: <span class="number">0</span>,</span><br><span class="line">                    minChunks: <span class="number">2</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><img src="/images/webpack-13.png" alt="webpack é…ç½®13" title="webpack é…ç½®13"><br>ä»¥ä¸Šå°±æ˜¯æŠ½å–å…¬å…±ä»£ç éƒ¨åˆ†äº†ï¼Œåˆ°æ­¤ä¸ºæ­¢äº†</p>
<h3 id="çƒ­æ›´æ–°"><a href="#çƒ­æ›´æ–°" class="headerlink" title="çƒ­æ›´æ–°"></a>çƒ­æ›´æ–°</h3><p>çƒ­æ›´æ–°å¯¹äºå¼€å‘æ¥è¯´å¯ä»¥è¯´æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œè€Œä¸”webpackç°åœ¨ä¹Ÿè‡ªå¸¦æ’ä»¶æ”¯æŒçƒ­æ›´æ–°äº†</p>
<p>é€šè¿‡ <strong>devServer</strong> æ¥å¯åŠ¨çƒ­æ›´æ–°</p>
<p>â˜†ï¼šdevServerçš„ä½¿ç”¨éœ€è¦åœ¨é¡¹ç›®ä¸­æå‰å®‰å¥½ <strong>webpack-dev-server</strong></p>
<p>é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é…ç½®éƒ¨åˆ†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥webpack</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        hot: <span class="literal">true</span>,  <span class="comment">// å¯åŠ¨çƒ­æ›´æ–°</span></span><br><span class="line">        port: <span class="number">8080</span>,</span><br><span class="line">        contentBase: <span class="string">'./dist'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// webpackæ”¯æŒçƒ­æ›´æ–°æ’ä»¶</span></span><br><span class="line">        <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class="line">        <span class="comment">// æ‰“å°æ›´æ–°äº†çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="keyword">new</span> webpack.NamedModulesPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>çƒ­æ›´æ–°åªé€‚åˆåœ¨å¼€å‘ç¯å¢ƒä¸‹æ¥æï¼Œæ‰€ä»¥é…ç½®å¥½åï¼Œå†æ‰§è¡Œ <code>npm run dev</code></p>
<p>ç°åœ¨è®©æˆ‘ä»¬å›åˆ°index.jsæ–‡ä»¶é‡Œå»ï¼Œè®©æˆ‘ä»¬æ„Ÿå—ä¸€ä¸‹</p>
<p>// index.jsæ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çƒ­æ›´æ–°</span></span><br><span class="line"><span class="comment">// åœ¨srcç›®å½•ä¸‹æ–°åˆ›å»ºäº†audio.jsæ–‡ä»¶</span></span><br><span class="line"><span class="comment">// éœ€è¦å¯¼å…¥è¿™ä¸ªæ–‡ä»¶ï¼Œä¸ç„¶çƒ­æ›´æ–°å¤±æ•ˆ</span></span><br><span class="line"><span class="keyword">import</span> audio <span class="keyword">from</span> <span class="string">'./audio'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦æ”¯æŒçƒ­æ›´æ–°</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">    <span class="comment">// æ¥æ”¶çƒ­æ›´æ–°çš„æ¨¡å—</span></span><br><span class="line">    <span class="built_in">module</span>.hot.accept(<span class="string">'./audio.js'</span>, (path) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(path);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'audioæ–‡ä»¶æ›´æ–°äº†'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å®Œæˆäº†çƒ­æ›´æ–°æ“ä½œï¼Œæ¥æ”¶äº†audio.jsæ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨audio.jsæ–‡ä»¶å†…éƒ¨å¦‚æœè¿›è¡Œä¿®æ”¹ä¿å­˜åï¼Œä¼šåœ¨æ§åˆ¶å°é‡Œå±•ç¤ºå¯¹åº”çš„æ›´æ–°ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="/images/webpack-14.jpg" alt="webpack é…ç½®14" title="webpack é…ç½®14"></p>
<p>çƒ­æ›´æ–°ç°åœ¨å¯æ˜¯å¼€å‘ä¸­çš„è€æœ‹å‹ï¼Œå¾ˆå¤šIDEéƒ½é…ç½®äº†çƒ­æ›´æ–°æ“ä½œï¼Œæ¯”å¦‚åƒAndroid Studioè¿™æ ·çš„ç¼–è¯‘å™¨ï¼Œé€šè¿‡çƒ­æ›´æ–°æ¥åŠ å¿«ç¼–è¯‘é€Ÿåº¦<br>å¥½äº†ï¼Œä¸å•°å—¦äº†ï¼Œä¸‹é¢è¿˜æ˜¯å¹²è´§æ»¡æ»¡çš„ï¼ŒEnjoy it</p>
<h3 id="è·¨åŸŸè¯·æ±‚"><a href="#è·¨åŸŸè¯·æ±‚" class="headerlink" title="è·¨åŸŸè¯·æ±‚"></a>è·¨åŸŸè¯·æ±‚</h3><p>ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è®²ï¼Œé€šè¿‡webpackæ¥åšè·¨åŸŸè¯·æ±‚å®é™…ä¸Šä¹Ÿä¸èƒ½ç®—åœ¨ä¼˜åŒ–é‡Œã€‚ä¸è¿‡åœ¨å¼€å‘ä¸­ï¼Œè¿™ç§è·¨åŸŸçš„æƒ…å†µè¿˜æ˜¯å¾ˆå¤šçš„ï¼Œäº†è§£äº†ä¹Ÿä¸åƒäºï¼Œä¸€èµ·çœ‹çœ‹å§</p>
<p>è¿˜æ˜¯é€šè¿‡è€æœ‹å‹devServeræ¥å®ç°çš„ï¼Œä¸Šä»£ç </p>
<h4 id="ç¬¬ä¸€ç§è·¨åŸŸæ–¹å¼"><a href="#ç¬¬ä¸€ç§è·¨åŸŸæ–¹å¼" class="headerlink" title="ç¬¬ä¸€ç§è·¨åŸŸæ–¹å¼"></a>ç¬¬ä¸€ç§è·¨åŸŸæ–¹å¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="comment">// å¯ä»¥è¿™æ ·å†™</span></span><br><span class="line">            <span class="comment">// '/api': 'http://localhost:3000',</span></span><br><span class="line">            <span class="comment">// ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼Œå¤šé…ç½®</span></span><br><span class="line">            <span class="string">'/api'</span>: &#123;</span><br><span class="line">                target: <span class="string">'http://localhost:3000'</span>,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    <span class="string">'^/api'</span>: <span class="string">''</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡devServeræä¾›çš„proxyå±æ€§ï¼Œå¯ä»¥å®Œæˆæˆ‘ä»¬æƒ³è¦çš„è·¨åŸŸè¯·æ±‚ï¼Œä¸‹é¢çœ‹çœ‹å‚æ•°éƒ½æ˜¯å¹²ä»€ä¹ˆçš„</p>
<ul>
<li><p>target<br>æŒ‡å®šè¦è·¨åŸŸè¯·æ±‚çš„url<br>æ¯”å¦‚ä½ è¯·æ±‚/api/userInfoå°±ä¼šä»£ç†åˆ°<a href="http://localhost:3000/api/userInfo" target="_blank" rel="noopener">http://localhost:3000/api/userInfo</a></p>
</li>
<li><p>pathRewrite<br>é¡¾åæ€ä¹‰ï¼Œé‡å†™è·¯å¾„<br>æ¥å£ä¸å¯èƒ½éƒ½æ˜¯/apiå¼€å¤´çš„ï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä¸ªæ¥å£æ˜¯/getSongs<br>è€Œä¸æ˜¯/api/getSongsçš„æ¥å£åœ°å€ï¼Œä¼šæŠŠä»¥/apié‡å†™æ”¹ä¸ºç©ºå­—ç¬¦<br>æœ€åå°±å¯ä»¥è®¿é—®<a href="http://localhost:3000/getSongs" target="_blank" rel="noopener">http://localhost:3000/getSongs</a></p>
</li>
</ul>
<h4 id="ç¬¬äºŒç§è·¨åŸŸæ–¹å¼"><a href="#ç¬¬äºŒç§è·¨åŸŸæ–¹å¼" class="headerlink" title="ç¬¬äºŒç§è·¨åŸŸæ–¹å¼"></a>ç¬¬äºŒç§è·¨åŸŸæ–¹å¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        <span class="comment">// åˆ©ç”¨nodeæ¥å†™</span></span><br><span class="line">        before(app) &#123;</span><br><span class="line">            <span class="comment">// ç›¸å½“äºç›´æ¥å†™äº†åç«¯çš„æ¥å£ï¼Œå“ˆå“ˆ</span></span><br><span class="line">            app.get(<span class="string">'/api/info'</span>, (req, res) =&gt; &#123;</span><br><span class="line">                res.json(&#123;</span><br><span class="line">                    nickname: <span class="string">'æˆ‘æ»´ä¸ªå¤§æ¦´è²å•Š'</span>,</span><br><span class="line">                    level: <span class="number">8</span>,</span><br><span class="line">                    src: <span class="string">'https://music.163.com/song/media/outer/url?id=1382794914.mp3'</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä»¥ä¸Šä¸¤ç§æ–¹å¼å¤§å®¶çŸ¥é“å³å¯äº†ï¼Œç¬¬ä¸€ç§ä¹Ÿæ˜¯æœ€æ™®éçš„å®ç°æ–¹å¼ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘çš„è·¨åŸŸé—®é¢˜äº†</p>
<h3 id="IgnorePlugin"><a href="#IgnorePlugin" class="headerlink" title="IgnorePlugin"></a>IgnorePlugin</h3><p>ä½œç”¨ï¼š <strong>å¿½ç•¥æ‰“åŒ…</strong>ç¬¬ä¸‰æ–¹æ¨¡å—æŒ‡å®šçš„ç›®å½•</p>
<p>ä¸ºä»€ä¹ˆè¦å¿½ç•¥å‘¢ï¼Ÿ é€šè¿‡ä¸‹é¢çš„æ —å­æ¥çœ‹ä¸€ä¸‹</p>
<p>ç›¸ä¿¡å¾ˆå¤šäººåº”è¯¥æˆ–å¤šæˆ–å°‘çš„éƒ½å¬è¿‡momentè¿™ä¸ªæ—¶é—´åº“ï¼Œä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘æ¥æ¼”ç¤ºä¸€æ³¢</p>
<p>å…ˆå®‰è£…momentï¼š <code>npm i moment -S</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥moment</span></span><br><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">'moment'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ä¸­æ–‡</span></span><br><span class="line">moment.locale(<span class="string">'zh-cn'</span>);</span><br><span class="line"><span class="keyword">let</span> time = moment().endOf(<span class="string">'day'</span>).fromNow();</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.root.innerHTML += time;</span><br></pre></td></tr></table></figure>
<p><img src="/images/webpack-15.jpg" alt="webpack é…ç½®15" title="webpack é…ç½®15"></p>
<p>é¡µé¢ä¸Šå±•ç¤ºçš„ä¸€ç‚¹æ¯›ç—…éƒ½æ²¡æœ‰ï¼Œä¸è¿‡å¦‚æœçœ‹ä¸€ä¸‹æ‰“åŒ…çš„æƒ…å†µå°±ä¼šå‘ç°æœ‰ç‘•ç–µäº†ï¼Œä½ çœ‹<br><img src="/images/webpack-16.jpg" alt="webpack é…ç½®16" title="webpack é…ç½®16"></p>
<p>è®¾ç½®äº†ä¸­æ–‡ï¼Œå´æŠŠæ•´ä¸ªè¯­è¨€åŒ…éƒ½æ‰“åŒ…è¿›å»äº†ï¼Œè¿™æ ·å¾ˆä¸å¥½<br>è¿™æ˜¯ç¥é©¬åŸå› å‘¢ï¼Œå…¶å®æ˜¯å› ä¸ºmomentè¢«å¯¼å…¥çš„æ—¶å€™ï¼Œé™„èµ äº†æ•´ä¸ªlocaleè¯­è¨€åŒ…ï¼Œè¿™ç§ä¹°ä¸€èµ ä¸€çš„è¡Œä¸ºå°±ä¸ç”¨æç°åœ¨ä»£ç ä¸–ç•Œäº†ï¼Œåƒä¸æ¶ˆäº†<br><img src="/images/webpack-17.jpg" alt="webpack é…ç½®17" title="webpack é…ç½®17"></p>
<p>æˆ‘ä»¬éœ€è¦ç”¨ä¸­æ–‡åŒ…ï¼Œä½†æ˜¯ä¸æƒ³æ‰“åŒ…å…¨éƒ¨è¯­è¨€åŒ…ï¼Œå°±è®©IgnorePluginå‡ºé©¬äº†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// å¿½ç•¥momentç›®å½•ä¸‹çš„localeæ–‡ä»¶å¤¹</span></span><br><span class="line">        <span class="keyword">new</span> webpack.IgnorePlugin(<span class="regexp">/\.\/locale/</span>, /moment/)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é…ç½®æ”¹å†™åï¼Œå†å›åˆ°index.jsä¸­å•ç‹¬å¯¼å…¥ä¸­æ–‡è¯­è¨€åŒ…å°±å¥½äº†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨IgnorePluginæŠŠåªéœ€è¦çš„è¯­è¨€åŒ…å¯¼å…¥ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œçœå»äº†ä¸€ä¸‹å­æ‰“åŒ…æ•´ä¸ªè¯­è¨€åŒ…</span></span><br><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">'moment'</span>;</span><br><span class="line"><span class="comment">// å•ç‹¬å¯¼å…¥ä¸­æ–‡è¯­è¨€åŒ…</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'moment/locale/zh-cn'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> time = moment().endOf(<span class="string">'day'</span>).fromNow();</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.root.innerHTML += time;</span><br></pre></td></tr></table></figure>
<p>å†é‡æ–° <code>npm run build</code> æ‰“åŒ…åï¼Œä½“ç§¯ç¬é—´å‡å°‘äº†278kå•Šå•Šå•Šå•Šï¼Œä¸‹å›¾æ˜¾ç¤º<br><img src="/images/webpack-18.jpg" alt="webpack é…ç½®18" title="webpack é…ç½®18"></p>
<h3 id="noParse"><a href="#noParse" class="headerlink" title="noParse"></a>noParse</h3><p>noParseçš„ä½œç”¨æ˜¯ä¸å»è§£æä½ æ‰€ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ä¸­çš„<strong>ä¾èµ–åº“</strong></p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        <span class="comment">// ä¸å»è§£æjqueryæˆ–lodashä¸­çš„ä¾èµ–åº“</span></span><br><span class="line">        noParse: <span class="regexp">/jquery|lodash/</span>,  </span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">'babel-loader'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å·¥ä½œä¸­ï¼Œå¿½ç•¥å¤§å‹çš„åº“å¯ä»¥<strong>æé«˜æ„å»ºæ€§èƒ½</strong>ï¼Œå¯ä»¥ä»æ„å»ºæ—¶é—´ä¸Šçœ‹å‡ºæ¥é€Ÿåº¦çš„æå‡ï¼Œå¦‚ä¸Šé¢ä»£ç ä¸­æåˆ°çš„jqueryå’Œlodash</p>
<h3 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h3><p>ä»è¿™ä¸ªè‹±æ–‡å°±èƒ½çœ‹å‡ºæ¥ï¼Œå®ƒå°±æ˜¯é…ç½®æ¨¡å—å¦‚ä½•è§£æç”¨çš„ï¼Œé…ç½®å¤ªå¤šä¹Ÿæ²¡å¿…è¦ä¸€ä¸€ä»‹ç»äº†ï¼Œè¿˜æ˜¯ç›´æ¥è¯´é‡ç‚¹å†™å‡ºå¸¸ç”¨çš„é…ç½®å§</p>
<p>resolveå¸¸ç”¨é…ç½®</p>
<ul>
<li>modules<br>æŒ‡å®šè§£æç¬¬ä¸‰æ–¹åŒ…çš„ç›®å½•ä½ç½®</li>
<li>alias<br>æŒ‡å®šimportå¯¼å…¥æ—¶çš„åˆ«åï¼Œç®€åŒ–å¼•å…¥</li>
<li>extensions<br>è‡ªåŠ¨è§£æç¡®å®šå¥½çš„æ‰©å±•å<br>é»˜è®¤ä¼šæŠŠjså’Œjsonå½“åšæ‰©å±•å</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        modules: [resolve(<span class="string">'node_modules'</span>)],</span><br><span class="line">        alias: &#123;</span><br><span class="line">            Utils: resolve(__dirname, <span class="string">'src/utils/'</span>),</span><br><span class="line">            <span class="string">'@'</span>: resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        extensions: [<span class="string">'.js'</span>, <span class="string">'.css'</span>, <span class="string">'.json'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤åˆ»ï¼Œæˆ‘ä»¬å¾€srcç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªutilsæ–‡ä»¶å¤¹ï¼Œç„¶åæ–°å»ºä¸€ä¸ªparse-url.jsæ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/utils/parse-url.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°±ç®€å•å¯¼å‡ºä¸€ä¸‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">'æˆ‘æ˜¯è§£æurlçš„æ–¹æ³•'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// src/index.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> parseUrl <span class="keyword">from</span> <span class="string">'Utils/parse-url'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(parseUrl); <span class="comment">// æ‰“å°ï¼šæˆ‘æ˜¯è§£æurlçš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸ºæˆ‘ä»¬å±•ç¤ºäº†aliasåˆ«åçš„æ•ˆæœï¼ŒçœŸçš„æ˜¯å¾ˆæœ‰ç”¨å¾ˆæ–¹ä¾¿çš„ï¼Œå“ˆå“ˆ</p>
<h3 id="includeå’Œexclude"><a href="#includeå’Œexclude" class="headerlink" title="includeå’Œexclude"></a>includeå’Œexclude</h3><ul>
<li>include: åŒ…å«æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶è§£æ</li>
<li>exclude: æ’é™¤æŒ‡å®šç›®å½•ä¸è¿›è¡Œè§£æ<br>äºŒè€…ä½¿ç”¨ä¸€ä¸ªå³å¯äº†ï¼Œæƒ³å¿…è¿™ä¸ªä¼˜åŒ–çš„ç‚¹å¤§å®¶å¹¶ä¸é™Œç”Ÿçš„ï¼Œçœ‹çœ¼ä»£ç å§</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">'babel-loader'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                exculde: <span class="regexp">/node_modules/</span>,    <span class="comment">// äºŒé€‰ä¸€</span></span><br><span class="line">                include: path.resolve(<span class="string">'src'</span>)    <span class="comment">// äºŒé€‰ä¸€</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="happypack"><a href="#happypack" class="headerlink" title="happypack"></a>happypack</h3><p>webpackåœ¨Nodeç¯å¢ƒä¸‹è¿è¡Œæ‰€ä»¥ä¹Ÿæ˜¯å•çº¿ç¨‹æ“ä½œï¼Œä¸€ä»¶ä¸€ä»¶çš„å»å¤„ç†äº‹æƒ…ã€‚è¿™æ ·å¾ˆä¸niceï¼Œæœ¬ç€ç°åœ¨cpuéƒ½é‚£ä¹ˆå¨çŒ›çš„æƒ…å†µä¸‹ï¼Œè¿ç”¨å¤šæ ¸è¿ç®—å®Œå…¨æ˜¯å°å„¿ç§‘çš„<br>äºæ˜¯ä¹ï¼Œå°±æœ‰äº†happypackçš„ç”¨æ­¦ä¹‹åœ°äº†ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å¯ä»¥å®ç°<strong>å¤šè¿›ç¨‹æ‰“åŒ…æ“ä½œ</strong><br>ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹ä¸‹æ˜¯å¦‚ä½•é…ç½®çš„<br>é…ç½®å‰å…ˆæ¥å®‰è£…ä¸€ä¸‹ <code>npm i happypack -D</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Happypack = <span class="built_in">require</span>(<span class="string">'happypack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                use: <span class="string">'Happypack/loader?id=js'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: <span class="string">'Happypack/loader?id=css'</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> Happypack(&#123;</span><br><span class="line">            id: <span class="string">'js'</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        presets: [</span><br><span class="line">                            <span class="string">'@babel/preset-env'</span>,</span><br><span class="line">                            <span class="string">'@babel/preset-react'</span></span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> Happypack(&#123;</span><br><span class="line">            id: <span class="string">'css'</span>,</span><br><span class="line">            use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å·®ä¸å¤šäº†ï¼Œå¤§å®¶çœŸçš„è¾›è‹¦äº†ï¼Œå“ˆå“ˆï¼ŒåšæŒçœ‹ä¸‹æ¥çš„å°ä¼™ä¼´ï¼ŒçœŸæ˜¯å¤ªç»™åŠ›äº†</p>
<h2 id="ç®€å•å‡ å¥"><a href="#ç®€å•å‡ å¥" class="headerlink" title="ç®€å•å‡ å¥"></a>ç®€å•å‡ å¥</h2><p>ä¼˜åŒ–çš„å†…å®¹æœ‰å¤šç§å¤šæ ·ï¼Œä¹Ÿä¸ä¼šå…¨éƒ¨éƒ½åŒ…å«ï¼Œä¸Šé¢æåˆ°çš„ä¹Ÿéƒ½æ˜¯æ¯”è¾ƒå¸¸è§çš„ä¸€äº›ä¼˜åŒ–æ–¹å¼ï¼Œå„å–æ‰€éœ€ã€å„å–æ‰€ç”¨å°±å¥½äº†</p>
<p>è¿˜æ˜¯é‚£å¥è¯ï¼Œç–«æƒ…æ€»ä¼šè¿‡å»çš„ï¼Œæ²¡ä»€ä¹ˆå¥½æ€•çš„ï¼Œä¸€èµ·åŠªåŠ›å§ï¼ï¼ï¼</p>
<p>æ„Ÿè°¢å¤§å®¶ï¼Œ886</p>
<blockquote>
<p>æ–‡ç« æ¥æºï¼š<a href="https://juejin.im/post/5cceecb7e51d453ab908717c#heading-24" title="Webpack ä¼˜åŒ–æ€»ä¼šè®©ä½ ä¸å¾—ä¸çˆ±" target="_blank" rel="noopener">Webpack ä¼˜åŒ–æ€»ä¼šè®©ä½ ä¸å¾—ä¸çˆ±</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŠ æ²¹&quot;&gt;&lt;a href=&quot;#åŠ æ²¹&quot; class=&quot;headerlink&quot; title=&quot;åŠ æ²¹&quot;&gt;&lt;/a&gt;åŠ æ²¹&lt;/h2&gt;&lt;p&gt;åœ¨å®¶çš„æ—¥å­ä¸èƒ½å‡ºå»ç©ï¼Œä¸èƒ½å‡ºå»åƒï¼Œçš„ç¡®æ˜¯å¾ˆä¸å¼€å¿ƒçš„ï¼Œä¸è¿‡ä¹Ÿæ˜¯çœŸçš„å¢åŠ äº†å¥½å¤šç©ºé—²æ—¶é—´&lt;/p&gt;
&lt;p&gt;ä¸å…¶åœ¨å®¶å‘†ç€æ— èŠï¼Œä¸å¦‚å®‰å®‰é™é™çš„å­¦ä¹ ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;ç–«æƒ…æœŸé—´ï¼Œä¸ç®¡æ€æ ·ï¼Œå¿ƒæ€ä¸èƒ½å´©ï¼Œæ­¦æ±‰åŠ æ²¹ï¼Œä¸­å›½åŠ æ²¹&lt;/p&gt;
&lt;p&gt;é—²è¨€å°‘å™ï¼Œç°åœ¨æˆ‘ä»¬å°±å¼€å§‹ä¸€èµ·å­¦ä¹ å§&lt;/p&gt;
&lt;h2 id=&quot;ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯&quot;&gt;&lt;a href=&quot;#ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯&quot;&gt;&lt;/a&gt;ä¼˜åŒ–æ˜¯ä¸ªå¥½è¯&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ä¼˜åŒ–&lt;/strong&gt;ï¼Œå°±æ˜¯åŠ ä»¥æ”¹å˜æˆ–é€‰æ‹©ä½¿ä¼˜è‰¯ï¼Œåœ¨å·¥ä½œå½“ä¸­æ˜¯è®©æå‡æ•ˆç‡çš„å¥½åŠæ³•ã€‚&lt;br&gt;å½“ç„¶ï¼Œwebpack ä¼˜åŒ–åƒåƒä¸‡ï¼Œä½†æˆ‘è§‰å¾—è¿™äº›å°±å¤Ÿäº†&lt;br&gt;é¦–å½“å…¶å†²çš„ï¼Œå°±æ˜¯å·¥ä½œä¸­é‚£äº›ç”¨ä¸åˆ°çš„æ ·å¼ï¼Œå¯èƒ½æ˜¯ç”±äºå†å²é—ç•™åŸå› å·²ç»å¿˜è®°å“ªäº›æ˜¯æ²¡æœ‰ä½¿ç”¨çš„æ ·å¼äº†ï¼Œä¸€ä¸€æ’æŸ¥å¤ªè¿‡è€—æ—¶è´¹åŠ›äº†&lt;br&gt;äºæ˜¯ï¼Œ&lt;code&gt;purgecss-webpack-plugin&lt;/code&gt; å’Œ &lt;code&gt;glob&lt;/code&gt; å®ƒä¿©å°±ç™»åœºäº†ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å§&lt;br&gt;æ’ä»¶åƒä¸‡ä¸ªï¼Œå®‰è£…ç¬¬ä¸€æ­¥ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm i purgecss-webpack-plugin glob -D&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Webpack" scheme="https://shizhonghai.github.io/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>lowdb</title>
    <link href="https://shizhonghai.github.io/2020/02/21/lowdb/"/>
    <id>https://shizhonghai.github.io/2020/02/21/lowdb/</id>
    <published>2020-02-20T16:00:00.000Z</published>
    <updated>2020-02-21T07:11:56.611Z</updated>
    
    <content type="html"><![CDATA[<p>NPM æºåœ°å€ ï¼š <a href="https://www.npmjs.com/package/lowdb" target="_blank" rel="noopener">https://www.npmjs.com/package/lowdb</a></p>
<blockquote>
<p>ç”¨äºNodeï¼ŒElectronå’Œæµè§ˆå™¨çš„å°å‹JSONæ•°æ®åº“ã€‚ç”±Lodashæä¾›æŠ€æœ¯æ”¯æŒ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts'</span>)</span><br><span class="line">  .push(&#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">'lowdb is awesome'</span>&#125;)</span><br><span class="line">  .write()</span><br></pre></td></tr></table></figure>
<h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install lowdb</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> low = <span class="built_in">require</span>(<span class="string">'lowdb'</span>);</span><br><span class="line"><span class="keyword">const</span> FileSync = <span class="built_in">require</span>(<span class="string">'lowdb/adapters/FileSync'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> adapter = <span class="keyword">new</span> FileSync(<span class="string">'db.json'</span>); <span class="comment">// å­˜å‚¨åˆ°db.jsonæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="keyword">const</span> db = low(adapter);	</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ä¸€äº›é»˜è®¤å€¼</span></span><br><span class="line">db.defaults(&#123;<span class="attr">posts</span>: [], <span class="attr">user</span>: &#123;&#125;&#125;).write();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ ä¸€ä¸ªpost</span></span><br><span class="line">db.get(<span class="string">'posts'</span>).push(&#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">'lowdb is awesome'</span>&#125;).write();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨Lodashç®€å†™è¯­æ³•è®¾ç½®ç”¨æˆ·</span></span><br><span class="line">db.set(<span class="string">'user.name'</span>, <span class="string">'typicode'</span>).write();</span><br></pre></td></tr></table></figure>
<p>æ•°æ®ä¿å­˜åˆ°db.json<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"posts"</span>: [</span><br><span class="line">    &#123; <span class="string">"id"</span>: <span class="number">1</span>, <span class="string">"title"</span>: <span class="string">"lowdb is awesome"</span>&#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"user"</span>: &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"typicode"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä»»ä½• <a href="https://lodash.com/docs" target="_blank" rel="noopener">lodash</a> å‡½æ•° <a href="https://lodash.com/docs#get" target="_blank" rel="noopener">_.get</a> å’Œ <a href="https://lodash.com/docs#find" target="_blank" rel="noopener">_.find</a> ç®€å†™è¯­æ³•</p>
<a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ‚¨åªæ˜¯ä»dbè¯»å–ï¼Œè¯·ä½¿ç”¨.valueï¼ˆï¼‰è€Œä¸æ˜¯.writeï¼ˆï¼‰</span></span><br><span class="line">db.get(<span class="string">'posts'</span>).find(&#123;<span class="attr">id</span>: <span class="number">1</span>&#125;).value();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Lowdb éå¸¸é€‚åˆ CLIï¼Œå°å‹æœåŠ¡å™¨ï¼ŒElectron åº”ç”¨ç¨‹åºå’Œ npm è½¯ä»¶åŒ…ã€‚</p>
</blockquote>
<p>å®ƒæ”¯æŒNodeï¼Œæµè§ˆå™¨å¹¶ä½¿ç”¨lodash APIï¼Œå› æ­¤å­¦ä¹ èµ·æ¥éå¸¸ç®€å•ã€‚å®é™…ä¸Šï¼Œå¦‚æœä½ çŸ¥é“Lodashï¼Œä½ å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨lowdb</p>
<ul>
<li>ç”¨æ³•ç¤ºä¾‹<ul>
<li><a href="https://github.com/typicode/lowdb/tree/master/examples#cli" target="_blank" rel="noopener">CLI</a></li>
<li><a href="https://github.com/typicode/lowdb/tree/master/examples#browser" target="_blank" rel="noopener">æµè§ˆå™¨</a></li>
<li><a href="https://github.com/typicode/lowdb/tree/master/examples#server" target="_blank" rel="noopener">æœåŠ¡å™¨</a></li>
<li><a href="https://github.com/typicode/lowdb/tree/master/examples#in-memory" target="_blank" rel="noopener">In-memory</a></li>
</ul>
</li>
<li><a href="https://jsfiddle.net/typicode/4kd7xxbu/" target="_blank" rel="noopener">JSFiddleå®ä¾‹</a></li>
</ul>
<p><strong>é‡è¦çš„</strong> lowdb ä¸æ”¯æŒç¾¤é›†ï¼Œå¹¶ä¸”å¯èƒ½å­˜åœ¨éå¸¸å¤§çš„JSONæ–‡ä»¶ï¼ˆ~200MBï¼‰çš„é—®é¢˜ã€‚</p>
<p>åœ¨ <a href="https://unpkg.com/" target="_blank" rel="noopener">unpkg</a> ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨UMDæ„å»ºè¿›è¡Œæµ‹è¯•å’Œå¿«é€ŸåŸå‹è®¾è®¡ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://unpkg.com/lodash@4/lodash.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://unpkg.com/lowdb@0.17/dist/low.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://unpkg.com/lowdb@0.17/dist/LocalStorage.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> adapter = <span class="keyword">new</span> LocalStorage(<span class="string">'db'</span>)</span><br><span class="line">  <span class="keyword">var</span> db = low(adapter)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>1.low(adapter)<br>è¿”å›å…·æœ‰ä¸‹é¢æè¿°çš„å…¶ä»–å±æ€§å’Œå‡½æ•°çš„lodash <a href="https://lodash.com/docs/4.17.4#chain" target="_blank" rel="noopener">é“¾</a></p>
<p>2.db.[â€¦].write() db.[â€¦].value()<br><code>write()</code> æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œç”¨äºè°ƒç”¨ <code>value()</code> å’Œ <code>db.write()</code> ä¸€è¡Œã€‚<br>å¦ä¸€æ–¹é¢ï¼Œ<code>value()</code> åªæ˜¯ <a href="https://lodash.com/docs/4.17.4#prototype-value" target="_blank" rel="noopener">_.protoype.value()</a> å¹¶ä¸”åº”è¯¥ç”¨äºæ‰§è¡Œä¸æ›´æ”¹æ•°æ®åº“çŠ¶æ€çš„é“¾ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.set(<span class="string">'user.name'</span>, <span class="string">'typicode'</span>).write()</span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line">db.set(<span class="string">'user.name'</span>, <span class="string">'typicode'</span>).value()</span><br><span class="line">db.write()</span><br></pre></td></tr></table></figure></p>
<p>3.db._<br>æ•°æ®åº“lodashå®ä¾‹ã€‚ä½¿ç”¨å®ƒæ¥æ·»åŠ è‡ªå·±çš„å®ç”¨ç¨‹åºå‡½æ•°æˆ–ç¬¬ä¸‰æ–¹mixinsï¼Œå¦‚ <a href="https://github.com/documentcloud/underscore-contrib" target="_blank" rel="noopener">underscore-contrib</a> æˆ– <a href="https://github.com/typicode/lodash-id" target="_blank" rel="noopener">lodash-id</a>ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">db._.mixin(&#123;</span><br><span class="line">    second: <span class="function"><span class="keyword">function</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> array[<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">db.get(<span class="string">'posts'</span>).second().value()</span><br></pre></td></tr></table></figure></p>
<p>4.db.getState()<br>è¿”å›æ•°æ®åº“çŠ¶æ€<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getState() <span class="comment">// &#123;posts:[...]&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>5.db.setState(nweState)<br>æ›¿æ¢æ•°æ®åº“çŠ¶æ€ db.json å†…å®¹æ²¡å˜<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newState = &#123;&#125;</span><br><span class="line">db.setState(newState)</span><br></pre></td></tr></table></figure></p>
<p>6.db.write()<br>ä½¿ç”¨æŒä¹…åŒ–æ•°æ®åº“adapter.writeï¼ˆå–å†³äºadapterï¼Œå¯èƒ½ä¼šè¿”å›ä¸€ä¸ªpromiseï¼‰ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ lowdb/adapter/FileSync  åŒæ­¥</span></span><br><span class="line">db.write()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state has been saved'</span>); <span class="comment">// çŠ¶æ€å·²ä¿å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨lowdb/adapter/FileAsync</span></span><br><span class="line">db.write().then(<span class="function"><span class="params">()</span>=&gt;</span><span class="built_in">console</span>.log(<span class="string">'state has been saved'</span>))</span><br></pre></td></tr></table></figure></p>
<p>7.db.read()<br>ä½¿ç”¨storage.readé€‰é¡¹è¯»å–æºä»£ç ï¼ˆå–å†³äºadapterï¼Œå¯èƒ½ä¼šè¿”å›ä¸€ä¸ªpromiseï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ lowdb/FileSync</span></span><br><span class="line">db.read()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'State has been updated'</span>) <span class="comment">// çŠ¶æ€å·²æ›´æ–°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ lowdb/FileAsync</span></span><br><span class="line">db.read().then(<span class="function"><span class="params">()</span>=&gt;</span><span class="built_in">console</span>.log(<span class="string">'State has been updated'</span>))</span><br></pre></td></tr></table></figure></p>
<h2 id="apapter-API"><a href="#apapter-API" class="headerlink" title="apapter API"></a>apapter API</h2><p>è¯·æ³¨æ„ï¼Œè¿™ä»…é€‚ç”¨äºä¸Lowdbæ†ç»‘åœ¨ä¸€èµ·çš„é€‚é…å™¨ã€‚ç¬¬ä¸‰æ–¹é€‚é…å™¨å¯èƒ½æœ‰ä¸åŒçš„é€‰é¡¹ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œ<code>FileSync</code>ï¼Œ<code>FileAsync</code> å’Œ <code>LocalBrowser</code> æ¥å—ä»¥ä¸‹é€‰é¡¹ï¼š</p>
<ul>
<li>defaultValue å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯¥å€¼å°†è¢«ç”¨äºè®¾å®šåˆå§‹çŠ¶æ€ï¼ˆdefaultï¼š<code>{}</code>ï¼‰</li>
<li>serialize/deserialize åœ¨å†™å…¥ä¹‹å‰å’Œè¯»å–ä¹‹åä½¿ç”¨çš„å‡½æ•°ï¼ˆdefaultï¼š<code>JSON.stringify</code> å’Œ <code>JSON.parse</code> ï¼‰ åºåˆ—åŒ–/ååºåˆ—åŒ–<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> adapter = <span class="keyword">new</span> FileSync(<span class="string">'array.yaml'</span>, &#123;</span><br><span class="line">  defaultValue: [],</span><br><span class="line">  serialize: <span class="function">(<span class="params">array</span>) =&gt;</span> toYamlString(array),</span><br><span class="line">  deserialize: <span class="function">(<span class="params">string</span>) =&gt;</span> fromYamlString(string)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="æŒ‡å—"><a href="#æŒ‡å—" class="headerlink" title="æŒ‡å—"></a>æŒ‡å—</h2><p>ä½¿ç”¨Lowdbï¼Œæ‚¨å¯ä»¥è®¿é—®æ•´ä¸ªlodash APIï¼Œå› æ­¤æœ‰å¾ˆå¤šæ–¹æ³•æ¥æŸ¥è¯¢å’Œæ“ä½œæ•°æ®</p>
<p>è¯·æ³¨æ„ï¼Œæ•°æ®æ˜¯é€šè¿‡å¼•ç”¨è¿”å›çš„ï¼Œè¿™æ„å‘³ç€å¯¹è¿”å›å¯¹è±¡çš„ä¿®æ”¹å¯èƒ½ä¼šæ›´æ”¹æ•°æ®åº“ã€‚ä¸ºäº†é¿å…è¿™ç§è¡Œä¸ºï¼Œæ‚¨éœ€è¦ä½¿ç”¨.cloneDeep().</p>
<p>æ­¤å¤–ï¼Œæ–¹æ³•çš„æ‰§è¡Œæ˜¯æ‡’æƒ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå»¶è¿Ÿæ‰§è¡Œç›´åˆ°è°ƒç”¨value()æˆ–.write()</p>
<h3 id="æ£€æŸ¥postsæ˜¯å¦å­˜åœ¨"><a href="#æ£€æŸ¥postsæ˜¯å¦å­˜åœ¨" class="headerlink" title="æ£€æŸ¥postsæ˜¯å¦å­˜åœ¨"></a>æ£€æŸ¥postsæ˜¯å¦å­˜åœ¨</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.has(<span class="string">'posts'</span>).value()</span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®posts"><a href="#è®¾ç½®posts" class="headerlink" title="è®¾ç½®posts"></a>è®¾ç½®posts</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.set(<span class="string">'posts'</span>, []).write()</span><br></pre></td></tr></table></figure>
<h3 id="æ’åºå‰äº”ä¸ª-posts-æ–‡ç« "><a href="#æ’åºå‰äº”ä¸ª-posts-æ–‡ç« " class="headerlink" title="æ’åºå‰äº”ä¸ª posts (æ–‡ç« )"></a>æ’åºå‰äº”ä¸ª posts (æ–‡ç« )</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts'</span>)</span><br><span class="line">	.filter(&#123;<span class="attr">published</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">	.sortBy(<span class="string">'views'</span>)</span><br><span class="line">	.task(<span class="number">5</span>)</span><br><span class="line">	.value()</span><br></pre></td></tr></table></figure>
<h3 id="è·å–æ–‡ç« æ ‡é¢˜"><a href="#è·å–æ–‡ç« æ ‡é¢˜" class="headerlink" title="è·å–æ–‡ç« æ ‡é¢˜"></a>è·å–æ–‡ç« æ ‡é¢˜</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts)</span></span><br><span class="line"><span class="string">	.map('</span>title<span class="string">')</span></span><br><span class="line"><span class="string">	.value()</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–æ–‡ç« æ•°é‡"><a href="#è·å–æ–‡ç« æ•°é‡" class="headerlink" title="è·å–æ–‡ç« æ•°é‡"></a>è·å–æ–‡ç« æ•°é‡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts'</span>)</span><br><span class="line">	.size()</span><br><span class="line">	.value()</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨è·¯å¾„è·å–ç¬¬ä¸€ç¯‡æ–‡ç« çš„æ ‡é¢˜ã€‚"><a href="#ä½¿ç”¨è·¯å¾„è·å–ç¬¬ä¸€ç¯‡æ–‡ç« çš„æ ‡é¢˜ã€‚" class="headerlink" title="ä½¿ç”¨è·¯å¾„è·å–ç¬¬ä¸€ç¯‡æ–‡ç« çš„æ ‡é¢˜ã€‚"></a>ä½¿ç”¨è·¯å¾„è·å–ç¬¬ä¸€ç¯‡æ–‡ç« çš„æ ‡é¢˜ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts[0].title'</span>)</span><br><span class="line">	.value()</span><br></pre></td></tr></table></figure>
<h3 id="æ›´æ–°ä¸€ä¸ªpost"><a href="#æ›´æ–°ä¸€ä¸ªpost" class="headerlink" title="æ›´æ–°ä¸€ä¸ªpost"></a>æ›´æ–°ä¸€ä¸ªpost</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts'</span>)</span><br><span class="line">	.find(&#123;<span class="attr">title</span>: <span class="string">'low!'</span>&#125;)</span><br><span class="line">	.assign(&#123;<span class="attr">title</span>: <span class="string">'hi!'</span>&#125;)</span><br><span class="line">	.write()</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤-posts"><a href="#åˆ é™¤-posts" class="headerlink" title="åˆ é™¤ posts"></a>åˆ é™¤ posts</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts'</span>)</span><br><span class="line">	.remove(&#123;<span class="attr">title</span>: <span class="string">'low!'</span>&#125;)</span><br><span class="line">	.write()</span><br></pre></td></tr></table></figure>
<h3 id="ç§»é™¤å±æ€§"><a href="#ç§»é™¤å±æ€§" class="headerlink" title="ç§»é™¤å±æ€§"></a>ç§»é™¤å±æ€§</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.unset(<span class="string">'user.name'</span>)</span><br><span class="line">	.write()</span><br></pre></td></tr></table></figure>
<h3 id="æ·±å…‹éš†-posts"><a href="#æ·±å…‹éš†-posts" class="headerlink" title="æ·±å…‹éš† posts"></a>æ·±å…‹éš† posts</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.get(<span class="string">'posts'</span>)</span><br><span class="line">	.cloneDeep()</span><br><span class="line">	.value()</span><br></pre></td></tr></table></figure>
<h2 id="å¦‚ä½•ä½¿ç”¨åŸºäºidçš„èµ„æº"><a href="#å¦‚ä½•ä½¿ç”¨åŸºäºidçš„èµ„æº" class="headerlink" title="å¦‚ä½•ä½¿ç”¨åŸºäºidçš„èµ„æº"></a>å¦‚ä½•ä½¿ç”¨åŸºäºidçš„èµ„æº</h2><p>èƒ½å¤Ÿä½¿ç”¨idè·å–æ•°æ®éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨æœåŠ¡å™¨ä¸­ã€‚è¦å‘lowdbæ·»åŠ åŸºäºidçš„èµ„æºæ”¯æŒï¼Œæ‚¨æœ‰2ä¸ªé€‰é¡¹</p>
<ol>
<li><a href="https://github.com/dylang/shortid" target="_blank" rel="noopener">shortid</a> æ›´ç®€çº¦ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯åœ¨åˆ›å»ºèµ„æºæ—¶ä½¿ç”¨çš„å”¯ä¸€IDã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shortid = <span class="built_in">require</span>(<span class="string">'shortid'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> postId = db</span><br><span class="line"> .get(<span class="string">'posts'</span>)</span><br><span class="line"> .push(&#123; <span class="attr">id</span>: shortid.generate(), <span class="attr">title</span>: <span class="string">'low!'</span> &#125;)</span><br><span class="line"> .write()</span><br><span class="line"> .id</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> post = db</span><br><span class="line"> .get(<span class="string">'posts'</span>)</span><br><span class="line"> .find(&#123; <span class="attr">id</span>: postId &#125;)</span><br><span class="line"> .value()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><a href="https://github.com/typicode/lodash-id" target="_blank" rel="noopener">lodash-id</a> æä¾›äº†ä¸€ç»„å¸®åŠ©ç¨‹åºï¼Œç”¨äºåˆ›å»ºå’Œæ“ä½œåŸºäºidçš„èµ„æºã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lodashId = <span class="built_in">require</span>(<span class="string">'lodash-id'</span>)</span><br><span class="line"><span class="keyword">const</span> db = low(<span class="string">'db.json'</span>)</span><br><span class="line"></span><br><span class="line">db._.mixin(lodashId)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> post = db</span><br><span class="line"> .get(<span class="string">'posts'</span>)</span><br><span class="line"> .insert(&#123; <span class="attr">title</span>: <span class="string">'low!'</span> &#125;)</span><br><span class="line"> .write()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> post = db</span><br><span class="line"> .get(<span class="string">'posts'</span>)</span><br><span class="line"> .getById(post.id)</span><br><span class="line"> .value(</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰çš„é€‚é…å™¨"><a href="#å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰çš„é€‚é…å™¨" class="headerlink" title="å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰çš„é€‚é…å™¨"></a>å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰çš„é€‚é…å™¨</h2><p><code>low()</code> æ¥å—è‡ªå®šä¹‰é€‚é…å™¨ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•æ ¼å¼å°†æ•°æ®è™šæ‹Ÿåœ°ä¿å­˜åˆ°ä»»ä½•å­˜å‚¨ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>   </span>&#123; </span><br><span class="line">  <span class="keyword">constructor</span> ï¼ˆï¼‰ &#123; </span><br><span class="line">    <span class="comment">//  ...</span></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  read ï¼ˆï¼‰ &#123; </span><br><span class="line">    <span class="comment">//  åº”è¿”å›æ•°æ®ï¼ˆå¯¹è±¡æˆ–æ•°ç»„ï¼‰æˆ–Promise</span></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  write(data)&#123; </span><br><span class="line">    <span class="comment">//  ä¸åº”è¯¥è¿”å›ä»»ä½•å†…å®¹æˆ–Promise</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> adapter = <span class="keyword">new</span> MyStorageï¼ˆ args ï¼‰    </span><br><span class="line"><span class="keyword">const</span> db = low ï¼ˆï¼‰</span><br></pre></td></tr></table></figure></p>
<p>See <a href="https://github.com/typicode/lowdb/blob/HEAD/src/adapters" target="_blank" rel="noopener">src/adapters</a> for examples. æŸ¥çœ‹ä¾‹å­</p>
<h2 id="å¦‚ä½•åŠ å¯†æ•°æ®"><a href="#å¦‚ä½•åŠ å¯†æ•°æ®" class="headerlink" title="å¦‚ä½•åŠ å¯†æ•°æ®"></a>å¦‚ä½•åŠ å¯†æ•°æ®</h2><p><code>FileSync</code>ï¼Œ<code>FileAsync</code> å’Œ <code>LocalStorage</code> æ¥å—è‡ªå®šä¹‰ <code>serialize</code> å’Œ <code>deserialize</code> åŠŸèƒ½ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥æ·»åŠ åŠ å¯†é€»è¾‘ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> adapter = <span class="keyword">new</span> FileSync(<span class="string">'db.json'</span>, &#123;</span><br><span class="line">  serialize: <span class="function">(<span class="params">data</span>) =&gt;</span> encrypt(<span class="built_in">JSON</span>.stringify(data))  <span class="comment">// åŠ å¯†</span></span><br><span class="line">  deserialize: <span class="function">(<span class="params">data</span>) =&gt;</span> <span class="built_in">JSON</span>.parse(decrypt(data))  <span class="comment">// è§£å¯†</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;NPM æºåœ°å€ ï¼š &lt;a href=&quot;https://www.npmjs.com/package/lowdb&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.npmjs.com/package/lowdb&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨äºNodeï¼ŒElectronå’Œæµè§ˆå™¨çš„å°å‹JSONæ•°æ®åº“ã€‚ç”±Lodashæä¾›æŠ€æœ¯æ”¯æŒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;db.get(&lt;span class=&quot;string&quot;&gt;&#39;posts&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .push(&amp;#123; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;title&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;lowdb is awesome&#39;&lt;/span&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .write()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ç”¨æ³•&quot;&gt;&lt;a href=&quot;#ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æ³•&quot;&gt;&lt;/a&gt;ç”¨æ³•&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install lowdb&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; low = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;lowdb&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; FileSync = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;lowdb/adapters/FileSync&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; adapter = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FileSync(&lt;span class=&quot;string&quot;&gt;&#39;db.json&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// å­˜å‚¨åˆ°db.jsonæ–‡ä»¶ä¸­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; db = low(adapter);	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¾ç½®ä¸€äº›é»˜è®¤å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db.defaults(&amp;#123;&lt;span class=&quot;attr&quot;&gt;posts&lt;/span&gt;: [], &lt;span class=&quot;attr&quot;&gt;user&lt;/span&gt;: &amp;#123;&amp;#125;&amp;#125;).write();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ·»åŠ ä¸€ä¸ªpost&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db.get(&lt;span class=&quot;string&quot;&gt;&#39;posts&#39;&lt;/span&gt;).push(&amp;#123;&lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;title&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;lowdb is awesome&#39;&lt;/span&gt;&amp;#125;).write();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨Lodashç®€å†™è¯­æ³•è®¾ç½®ç”¨æˆ·&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db.set(&lt;span class=&quot;string&quot;&gt;&#39;user.name&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;typicode&#39;&lt;/span&gt;).write();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ•°æ®ä¿å­˜åˆ°db.json&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;posts&quot;&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123; &lt;span class=&quot;string&quot;&gt;&quot;id&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;title&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;lowdb is awesome&quot;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;user&quot;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;typicode&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ä»»ä½• &lt;a href=&quot;https://lodash.com/docs&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;lodash&lt;/a&gt; å‡½æ•° &lt;a href=&quot;https://lodash.com/docs#get&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;_.get&lt;/a&gt; å’Œ &lt;a href=&quot;https://lodash.com/docs#find&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;_.find&lt;/a&gt; ç®€å†™è¯­æ³•&lt;/p&gt;
    
    </summary>
    
    
      <category term="lowdb" scheme="https://shizhonghai.github.io/tags/lowdb/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº GitHub ç›¸å…³æŠ€å·§</title>
    <link href="https://shizhonghai.github.io/2020/01/15/github/"/>
    <id>https://shizhonghai.github.io/2020/01/15/github/</id>
    <published>2020-01-14T16:00:00.000Z</published>
    <updated>2020-01-15T08:59:50.405Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ˜¾ç¤º-GitHub-Stars-æ•°é‡-å®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps-shields-io"><a href="#æ˜¾ç¤º-GitHub-Stars-æ•°é‡-å®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps-shields-io" class="headerlink" title="æ˜¾ç¤º GitHub Stars æ•°é‡ (å®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps://shields.io/)"></a>æ˜¾ç¤º GitHub Stars æ•°é‡ (å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://shields.io/" target="_blank" rel="noopener">https://shields.io/</a>)</h2><p><a href="https://github.com/louzhedong/blog/stargazers" target="_blank" rel="noopener"><img src="https://img.shields.io/github/stars/louzhedong/blog.svg?style=social" alt="GitHub stars"></a></p>
<p><a href="https://github.com/shizhonghai/shizhonghai.github.io/stargazers" target="_blank" rel="noopener"><img src="https://img.shields.io/github/stars/shizhonghai/shizhonghai.github.io?style=social" alt="GitHub stars"></a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ˜¾ç¤º-GitHub-Stars-æ•°é‡-å®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps-shields-io&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤º-GitHub-Stars-æ•°é‡-å®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps-shields-io&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤º GitHu
    
    </summary>
    
    
      <category term="Github" scheme="https://shizhonghai.github.io/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>git å¿½ç•¥è§„åˆ™ä»¥åŠ .gitignore æ–‡ä»¶ä¸ç”Ÿæ•ˆè§£å†³åŠæ³•</title>
    <link href="https://shizhonghai.github.io/2020/01/07/gitignore/"/>
    <id>https://shizhonghai.github.io/2020/01/07/gitignore/</id>
    <published>2020-01-06T16:00:00.000Z</published>
    <updated>2020-01-07T07:50:49.369Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git-å¿½ç•¥è§„åˆ™"><a href="#Git-å¿½ç•¥è§„åˆ™" class="headerlink" title="Git å¿½ç•¥è§„åˆ™"></a>Git å¿½ç•¥è§„åˆ™</h2><p>#æ­¤ä¸ºæ³¨é‡Š â€“ å†…å®¹è¢« Git å¿½ç•¥</p>
<ul>
<li>.sample ã€€ã€€    # å¿½ç•¥æ‰€æœ‰ .sample ç»“å°¾çš„æ–‡ä»¶</li>
<li>!lib.sample ã€€ã€€# ä½† lib.sample é™¤å¤–</li>
<li>/TODO ã€€ã€€      # ä»…ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶ï¼Œä¸åŒ…æ‹¬ subdir/TODO</li>
<li>build/ ã€€ã€€     # å¿½ç•¥ build/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</li>
<li>doc/.txt ã€€ã€€   # ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt</li>
</ul>
<h2 id="gitignore-è§„åˆ™ä¸ç”Ÿæ•ˆçš„è§£å†³åŠæ³•"><a href="#gitignore-è§„åˆ™ä¸ç”Ÿæ•ˆçš„è§£å†³åŠæ³•" class="headerlink" title=".gitignore è§„åˆ™ä¸ç”Ÿæ•ˆçš„è§£å†³åŠæ³•"></a>.gitignore è§„åˆ™ä¸ç”Ÿæ•ˆçš„è§£å†³åŠæ³•</h2><p>æŠŠæŸäº›ç›®å½•æˆ–æ–‡ä»¶åŠ å…¥å¿½ç•¥è§„åˆ™ï¼ŒæŒ‰ç…§ä¸Šè¿°æ–¹æ³•å®šä¹‰åå‘ç°å¹¶æœªç”Ÿæ•ˆï¼ŒåŸå› æ˜¯.gitignoreåªèƒ½å¿½ç•¥é‚£äº›åŸæ¥æ²¡æœ‰è¢«è¿½è¸ªçš„æ–‡ä»¶ï¼Œå¦‚æœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹.gitignoreæ˜¯æ— æ•ˆçš„ã€‚é‚£ä¹ˆè§£å†³æ–¹æ³•å°±æ˜¯å…ˆæŠŠæœ¬åœ°ç¼“å­˜åˆ é™¤ï¼ˆæ”¹å˜æˆæœªè¢«è¿½è¸ªçŠ¶æ€ï¼‰ï¼Œç„¶åå†æäº¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -rf --cached .</span><br><span class="line">git add .</span><br><span class="line">git commit -m &apos;update .gitignore&apos;</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Git-å¿½ç•¥è§„åˆ™&quot;&gt;&lt;a href=&quot;#Git-å¿½ç•¥è§„åˆ™&quot; class=&quot;headerlink&quot; title=&quot;Git å¿½ç•¥è§„åˆ™&quot;&gt;&lt;/a&gt;Git å¿½ç•¥è§„åˆ™&lt;/h2&gt;&lt;p&gt;#æ­¤ä¸ºæ³¨é‡Š â€“ å†…å®¹è¢« Git å¿½ç•¥&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.sample ã€€ã€€    
    
    </summary>
    
    
      <category term="git" scheme="https://shizhonghai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>æ¯æ—¥ä¸€é¢˜ï¼ˆ2019-10-29ï¼‰</title>
    <link href="https://shizhonghai.github.io/2019/12/12/Daily-Interview-Question-2/"/>
    <id>https://shizhonghai.github.io/2019/12/12/Daily-Interview-Question-2/</id>
    <published>2019-12-11T16:00:00.000Z</published>
    <updated>2019-12-12T02:06:34.331Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬-0002-é¢˜ï¼šVue-ä¸­çš„-computed-å’Œ-watch-çš„åŒºåˆ«åœ¨å“ªé‡Œ"><a href="#ç¬¬-0002-é¢˜ï¼šVue-ä¸­çš„-computed-å’Œ-watch-çš„åŒºåˆ«åœ¨å“ªé‡Œ" class="headerlink" title="ç¬¬ 0002 é¢˜ï¼šVue ä¸­çš„ computed å’Œ watch çš„åŒºåˆ«åœ¨å“ªé‡Œ"></a>ç¬¬ 0002 é¢˜ï¼šVue ä¸­çš„ computed å’Œ watch çš„åŒºåˆ«åœ¨å“ªé‡Œ</h2><p><code>computed</code>ï¼šè®¡ç®—å±æ€§</p>
<ul>
<li>è®¡ç®—å±æ€§æ˜¯ç”± <code>data</code> ä¸­çš„å·²çŸ¥å€¼ï¼Œå¾—åˆ°çš„ä¸€ä¸ªæ–°å€¼ã€‚</li>
<li>è¿™ä¸ªæ–°å€¼åªä¼šæ ¹æ®å·²çŸ¥å€¼çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå…¶ä»–ä¸ç›¸å…³çš„æ•°æ®çš„å˜åŒ–ä¸ä¼šå½±å“è¯¥æ–°å€¼ã€‚</li>
<li>è®¡ç®—å±æ€§ä¸åœ¨ <code>data</code> ä¸­ï¼Œè®¡ç®—å±æ€§æ–°å€¼çš„ç›¸å…³å·²çŸ¥å€¼åœ¨ <code>data</code> ä¸­ã€‚</li>
<li>å…·æœ‰ç¼“å­˜æ€§ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“å€¼ä¸å˜åŒ–,è®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</li>
<li>åˆ«äººå˜åŒ–å½±å“æˆ‘è‡ªå·±ã€‚</li>
</ul>
<p><code>watch</code>ï¼šç›‘å¬æ•°æ®çš„å˜åŒ–</p>
<ul>
<li>ç›‘å¬dataä¸­æ•°æ®çš„å˜åŒ–ã€‚</li>
<li>ç›‘å¬çš„æ•°æ®å°±æ˜¯dataä¸­çš„å·²çŸ¥å€¼ã€‚</li>
<li>æ— ç¼“å­˜æ€§ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“æ—¶å€¼ä¸å˜åŒ–ä¹Ÿä¼šæ‰§è¡Œã€‚</li>
<li>æˆ‘çš„å˜åŒ–å½±å“åˆ«äººã€‚</li>
</ul>
<p>å…¬å¸ï¼šè™¾çš®</p>
<blockquote>
<ol>
<li><code>watch</code> æ“…é•¿å¤„ç†çš„åœºæ™¯ï¼šä¸€ä¸ªæ•°æ®å½±å“å¤šä¸ªæ•°æ®</li>
<li><code>computed</code> æ“…é•¿å¤„ç†çš„åœºæ™¯ï¼šä¸€ä¸ªæ•°æ®å—å¤šä¸ªæ•°æ®å½±å“</li>
</ol>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç¬¬-0002-é¢˜ï¼šVue-ä¸­çš„-computed-å’Œ-watch-çš„åŒºåˆ«åœ¨å“ªé‡Œ&quot;&gt;&lt;a href=&quot;#ç¬¬-0002-é¢˜ï¼šVue-ä¸­çš„-computed-å’Œ-watch-çš„åŒºåˆ«åœ¨å“ªé‡Œ&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ 0002 é¢˜ï¼šVue ä¸­
    
    </summary>
    
    
      <category term="æ¯æ—¥ä¸€é¢˜" scheme="https://shizhonghai.github.io/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"/>
    
  </entry>
  
</feed>
